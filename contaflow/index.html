<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ContaFlow ‚Äî Gest√£o Cont√°bil Inteligente</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
--blue:#1E40AF;--blue-light:#3B82F6;--blue-50:#EFF6FF;
--dark:#0F172A;--dark-700:#1E293B;--dark-600:#334155;
--white:#FAFBFC;--green:#059669;--green-light:#D1FAE5;
--yellow:#D97706;--yellow-light:#FEF3C7;
--red:#DC2626;--red-light:#FEE2E2;
--gray:#F1F5F9;--gray-200:#E2E8F0;--gray-300:#CBD5E1;--gray-400:#94A3B8;--gray-500:#64748B;--gray-600:#475569;--gray-700:#334155;
--shadow:0 1px 3px rgba(0,0,0,.08),0 1px 2px rgba(0,0,0,.06);
--shadow-md:0 4px 6px rgba(0,0,0,.07),0 2px 4px rgba(0,0,0,.06);
--shadow-lg:0 10px 15px rgba(0,0,0,.1),0 4px 6px rgba(0,0,0,.05);
--radius:10px;--radius-sm:6px;--radius-lg:14px;
}
html{font-size:14px}
body{font-family:'Inter',sans-serif;background:var(--gray);color:var(--dark);display:flex;min-height:100vh;overflow-x:hidden}
a{text-decoration:none;color:inherit}
/* SIDEBAR */
.sidebar{width:260px;background:var(--dark);color:#fff;display:flex;flex-direction:column;position:fixed;top:0;left:0;bottom:0;z-index:100;transition:transform .3s}
.sidebar-brand{padding:24px 20px 20px;display:flex;align-items:center;gap:12px;border-bottom:1px solid rgba(255,255,255,.08)}
.sidebar-brand .logo{width:38px;height:38px;background:var(--blue);border-radius:var(--radius-sm);display:flex;align-items:center;justify-content:center;font-weight:800;font-size:16px}
.sidebar-brand h1{font-size:18px;font-weight:700;letter-spacing:-.5px}
.sidebar-brand span{font-size:11px;color:var(--gray-400);display:block;font-weight:400;margin-top:2px}
.sidebar-section{padding:16px 12px 4px;font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:1.2px;color:var(--gray-400)}
.sidebar-nav{flex:1;overflow-y:auto;padding:4px 8px}
.nav-item{display:flex;align-items:center;gap:12px;padding:10px 14px;border-radius:var(--radius-sm);cursor:pointer;transition:all .15s;color:var(--gray-300);font-size:13.5px;font-weight:500;margin-bottom:2px;position:relative}
.nav-item:hover{background:rgba(255,255,255,.06);color:#fff}
.nav-item.active{background:var(--blue);color:#fff;font-weight:600}
.nav-item i{width:20px;text-align:center;font-size:15px}
.nav-badge{margin-left:auto;background:var(--red);color:#fff;font-size:10px;font-weight:700;padding:2px 7px;border-radius:10px;min-width:20px;text-align:center}
.nav-badge.warn{background:var(--yellow)}
.sidebar-user{padding:16px;border-top:1px solid rgba(255,255,255,.08);display:flex;align-items:center;gap:10px}
.sidebar-user .avatar{width:36px;height:36px;border-radius:50%;background:var(--blue);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:13px}
.sidebar-user .info{font-size:12.5px;font-weight:600}
.sidebar-user .info span{display:block;font-size:11px;color:var(--gray-400);font-weight:400}
/* MAIN */
.main{margin-left:260px;flex:1;min-height:100vh;display:flex;flex-direction:column}
.topbar{background:#fff;border-bottom:1px solid var(--gray-200);padding:0 32px;height:60px;display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:50}
.topbar-left{display:flex;align-items:center;gap:16px}
.topbar-left h2{font-size:18px;font-weight:700;color:var(--dark)}
.topbar-left .breadcrumb{font-size:12px;color:var(--gray-500)}
.topbar-search{background:var(--gray);border:1px solid var(--gray-200);border-radius:var(--radius);padding:8px 14px 8px 36px;font-size:13px;width:280px;outline:none;transition:border .2s;font-family:inherit;position:relative}
.topbar-search:focus{border-color:var(--blue-light)}
.search-wrap{position:relative}
.search-wrap i{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:var(--gray-400);font-size:13px}
.topbar-actions{display:flex;align-items:center;gap:8px}
.topbar-btn{width:38px;height:38px;border-radius:var(--radius-sm);border:1px solid var(--gray-200);background:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--gray-600);font-size:15px;transition:all .15s;position:relative}
.topbar-btn:hover{background:var(--gray);color:var(--dark)}
.topbar-btn .dot{position:absolute;top:6px;right:6px;width:8px;height:8px;background:var(--red);border-radius:50%;border:2px solid #fff}
.content{flex:1;padding:28px 32px}
/* PAGE */
.page{display:none}
.page.active{display:block}
/* CARDS */
.kpi-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:20px;margin-bottom:28px}
.kpi-card{background:#fff;border-radius:var(--radius-lg);padding:22px 24px;box-shadow:var(--shadow);border:1px solid var(--gray-200);display:flex;align-items:flex-start;justify-content:space-between;transition:box-shadow .2s}
.kpi-card:hover{box-shadow:var(--shadow-md)}
.kpi-card .info h3{font-size:12px;font-weight:600;color:var(--gray-500);text-transform:uppercase;letter-spacing:.5px;margin-bottom:8px}
.kpi-card .info .value{font-size:28px;font-weight:800;color:var(--dark);line-height:1}
.kpi-card .info .sub{font-size:12px;color:var(--gray-500);margin-top:6px;display:flex;align-items:center;gap:4px}
.kpi-card .info .sub.up{color:var(--green)}
.kpi-card .info .sub.down{color:var(--red)}
.kpi-card .icon-box{width:48px;height:48px;border-radius:var(--radius);display:flex;align-items:center;justify-content:center;font-size:20px}
.icon-blue{background:var(--blue-50);color:var(--blue)}
.icon-green{background:var(--green-light);color:var(--green)}
.icon-yellow{background:var(--yellow-light);color:var(--yellow)}
.icon-red{background:var(--red-light);color:var(--red)}
/* GRID LAYOUT */
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:28px}
.grid-3-1{display:grid;grid-template-columns:2fr 1fr;gap:20px;margin-bottom:28px}
.grid-1-1-1{display:grid;grid-template-columns:1fr 1fr 1fr;gap:20px;margin-bottom:28px}
.card{background:#fff;border-radius:var(--radius-lg);box-shadow:var(--shadow);border:1px solid var(--gray-200);overflow:hidden}
.card-header{padding:18px 22px;border-bottom:1px solid var(--gray-200);display:flex;align-items:center;justify-content:space-between}
.card-header h3{font-size:14px;font-weight:700;color:var(--dark)}
.card-header .card-actions{display:flex;gap:6px}
.card-header .card-action{font-size:12px;color:var(--gray-500);cursor:pointer;padding:4px 10px;border-radius:var(--radius-sm);transition:all .15s;border:1px solid transparent}
.card-header .card-action:hover,.card-header .card-action.active{background:var(--blue-50);color:var(--blue);border-color:var(--blue)}
.card-body{padding:20px 22px}
/* TABLE */
table{width:100%;border-collapse:collapse}
th{text-align:left;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--gray-500);padding:10px 14px;border-bottom:2px solid var(--gray-200)}
td{padding:12px 14px;font-size:13px;border-bottom:1px solid var(--gray-200);color:var(--gray-700)}
tbody tr:nth-child(even){background:var(--gray)}
tbody tr:hover{background:var(--blue-50)}
/* BADGES */
.badge{display:inline-flex;align-items:center;gap:4px;padding:3px 10px;border-radius:20px;font-size:11px;font-weight:600}
.badge-green{background:var(--green-light);color:var(--green)}
.badge-yellow{background:var(--yellow-light);color:var(--yellow)}
.badge-red{background:var(--red-light);color:var(--red)}
.badge-blue{background:var(--blue-50);color:var(--blue)}
.badge-gray{background:var(--gray);color:var(--gray-600)}
/* PROGRESS */
.progress-bar{height:8px;background:var(--gray-200);border-radius:4px;overflow:hidden}
.progress-fill{height:100%;border-radius:4px;transition:width .6s ease}
.progress-item{margin-bottom:14px}
.progress-item .label{display:flex;justify-content:space-between;margin-bottom:6px;font-size:12px;font-weight:600;color:var(--gray-700)}
/* TIMELINE */
.timeline-item{display:flex;gap:12px;padding:10px 0;position:relative}
.timeline-item:not(:last-child)::after{content:'';position:absolute;left:15px;top:34px;bottom:-2px;width:2px;background:var(--gray-200)}
.timeline-dot{width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;flex-shrink:0}
.timeline-dot.green{background:var(--green-light);color:var(--green)}
.timeline-dot.blue{background:var(--blue-50);color:var(--blue)}
.timeline-dot.yellow{background:var(--yellow-light);color:var(--yellow)}
.timeline-dot.red{background:var(--red-light);color:var(--red)}
.timeline-content .title{font-size:13px;font-weight:600;color:var(--dark)}
.timeline-content .desc{font-size:12px;color:var(--gray-500);margin-top:2px}
/* FILTER BAR */
.filter-bar{display:flex;align-items:center;gap:10px;margin-bottom:20px;flex-wrap:wrap}
.filter-bar select,.filter-bar input[type=text]{padding:8px 14px;border:1px solid var(--gray-200);border-radius:var(--radius-sm);font-size:13px;font-family:inherit;background:#fff;color:var(--dark);outline:none}
.filter-bar select:focus,.filter-bar input:focus{border-color:var(--blue-light)}
.btn{padding:8px 18px;border-radius:var(--radius-sm);font-size:13px;font-weight:600;font-family:inherit;cursor:pointer;border:none;transition:all .15s;display:inline-flex;align-items:center;gap:6px}
.btn-primary{background:var(--blue);color:#fff}
.btn-primary:hover{background:#1a3a9e}
.btn-outline{background:#fff;color:var(--gray-600);border:1px solid var(--gray-200)}
.btn-outline:hover{background:var(--gray);border-color:var(--gray-300)}
.btn-sm{padding:5px 12px;font-size:12px}
/* CALENDAR */
.cal-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:4px}
.cal-header{font-size:11px;font-weight:700;text-transform:uppercase;color:var(--gray-500);text-align:center;padding:8px 0}
.cal-day{min-height:80px;background:var(--white);border:1px solid var(--gray-200);border-radius:var(--radius-sm);padding:6px;cursor:pointer;transition:all .15s}
.cal-day:hover{border-color:var(--blue-light);box-shadow:var(--shadow)}
.cal-day.today{border-color:var(--blue);background:var(--blue-50)}
.cal-day.other{opacity:.35}
.cal-day .day-num{font-size:12px;font-weight:700;color:var(--dark);margin-bottom:4px}
.cal-day.today .day-num{color:var(--blue)}
.cal-tag{font-size:9px;padding:2px 5px;border-radius:3px;margin-bottom:2px;font-weight:600;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.cal-tag.green{background:var(--green-light);color:var(--green)}
.cal-tag.yellow{background:var(--yellow-light);color:var(--yellow)}
.cal-tag.red{background:var(--red-light);color:var(--red)}
/* DOCS GRID */
.docs-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px}
.doc-card{background:#fff;border:1px solid var(--gray-200);border-radius:var(--radius);padding:18px;transition:all .15s;cursor:pointer}
.doc-card:hover{box-shadow:var(--shadow-md);border-color:var(--blue-light)}
.doc-card .doc-icon{width:44px;height:44px;border-radius:var(--radius-sm);display:flex;align-items:center;justify-content:center;font-size:18px;margin-bottom:12px}
.doc-card .doc-name{font-size:13px;font-weight:600;color:var(--dark);margin-bottom:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.doc-card .doc-meta{font-size:11px;color:var(--gray-500)}
.upload-zone{border:2px dashed var(--gray-300);border-radius:var(--radius-lg);padding:40px;text-align:center;color:var(--gray-500);cursor:pointer;transition:all .2s;margin-bottom:20px}
.upload-zone:hover{border-color:var(--blue-light);background:var(--blue-50);color:var(--blue)}
.upload-zone i{font-size:32px;margin-bottom:10px;display:block}
/* PORTAL */
.portal-preview{background:linear-gradient(135deg,#f0f7ff,#e8f4fd);border-radius:var(--radius-lg);border:2px solid var(--blue-light);overflow:hidden}
.portal-header{background:#fff;padding:18px 24px;border-bottom:1px solid var(--gray-200);display:flex;align-items:center;justify-content:space-between}
.portal-header .brand{display:flex;align-items:center;gap:10px;font-weight:700;color:var(--blue)}
.portal-body{padding:24px;display:grid;grid-template-columns:1fr 1fr;gap:16px}
.portal-card{background:#fff;border-radius:var(--radius);padding:18px;box-shadow:var(--shadow)}
.portal-card h4{font-size:13px;font-weight:700;color:var(--dark);margin-bottom:12px;display:flex;align-items:center;gap:8px}
.portal-card h4 i{color:var(--blue)}
.chat-box{background:#fff;border-radius:var(--radius);padding:16px;box-shadow:var(--shadow);grid-column:1/-1}
.chat-messages{max-height:180px;overflow-y:auto;margin-bottom:12px}
.chat-msg{display:flex;gap:8px;margin-bottom:10px}
.chat-msg .bubble{padding:8px 12px;border-radius:12px;font-size:12px;max-width:70%}
.chat-msg.them .bubble{background:var(--gray);color:var(--dark)}
.chat-msg.me .bubble{background:var(--blue);color:#fff;margin-left:auto}
.chat-input{display:flex;gap:8px}
.chat-input input{flex:1;padding:8px 12px;border:1px solid var(--gray-200);border-radius:var(--radius-sm);font-size:12px;font-family:inherit;outline:none}
/* PERIOD SELECTOR */
.period-sel{display:flex;gap:6px;align-items:center}
.period-sel .yr{padding:5px 14px;border-radius:var(--radius-sm);font-size:12px;font-weight:600;cursor:pointer;border:1px solid var(--gray-200);background:#fff;color:var(--gray-600);transition:all .15s}
.period-sel .yr.active{background:var(--blue);color:#fff;border-color:var(--blue)}
/* TABS */
.tabs{display:flex;gap:4px;margin-bottom:20px}
.tab{padding:8px 18px;border-radius:var(--radius-sm) var(--radius-sm) 0 0;font-size:13px;font-weight:600;cursor:pointer;background:var(--gray);color:var(--gray-600);border:1px solid var(--gray-200);border-bottom:none;transition:all .15s}
.tab.active{background:#fff;color:var(--blue);border-bottom:2px solid #fff;margin-bottom:-1px}
/* RESPONSIVE */
@media(max-width:1100px){.kpi-grid{grid-template-columns:repeat(2,1fr)}.grid-2,.grid-3-1{grid-template-columns:1fr}}
@media(max-width:768px){.sidebar{transform:translateX(-100%)}.sidebar.open{transform:translateX(0)}.main{margin-left:0}.kpi-grid{grid-template-columns:1fr}.topbar{padding:0 16px}.content{padding:20px 16px}.mobile-toggle{display:flex!important}}
.mobile-toggle{display:none!important;width:38px;height:38px;border:none;background:none;font-size:20px;cursor:pointer;color:var(--dark)}
/* CHART CONTAINER */
.chart-container{position:relative;height:260px}
.chart-container-sm{position:relative;height:200px}
/* SCROLLBAR */
::-webkit-scrollbar{width:6px}
::-webkit-scrollbar-track{background:transparent}
::-webkit-scrollbar-thumb{background:var(--gray-300);border-radius:3px}
.sidebar-nav::-webkit-scrollbar-thumb{background:var(--dark-600)}
/* ANIMATE */
@keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
.page.active{animation:fadeIn .3s ease}
/* EXPANDABLE ROW */
.expand-row{display:none;background:var(--blue-50)}
.expand-row.show{display:table-row}
.expand-content{padding:16px;display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
.expand-content .detail-group h5{font-size:11px;font-weight:700;color:var(--gray-500);text-transform:uppercase;margin-bottom:6px}
.expand-content .detail-group p{font-size:12.5px;color:var(--dark);margin-bottom:3px}
.countdown{font-size:11px;font-weight:700;color:var(--red);display:flex;align-items:center;gap:4px}
.countdown.soon{color:var(--yellow)}
.countdown.ok{color:var(--green)}
.guia-item{display:flex;align-items:center;justify-content:space-between;padding:10px 0;border-bottom:1px solid var(--gray-200)}
.guia-item:last-child{border:none}
</style>
</head>
<body>

<!-- SIDEBAR -->
<aside class="sidebar" id="sidebar">
  <div class="sidebar-brand">
    <div class="logo">CF</div>
    <div><h1>ContaFlow</h1><span>Gest√£o Cont√°bil</span></div>
  </div>
  <nav class="sidebar-nav">
    <div class="sidebar-section">Principal</div>
    <div class="nav-item active" data-page="dashboard" onclick="navigate('dashboard')">
      <i class="fa-solid fa-chart-pie"></i>Dashboard
    </div>
    <div class="nav-item" data-page="clientes" onclick="navigate('clientes')">
      <i class="fa-solid fa-building"></i>Clientes
      <span class="nav-badge">147</span>
    </div>
    <div class="sidebar-section">Fiscal</div>
    <div class="nav-item" data-page="obrigacoes" onclick="navigate('obrigacoes')">
      <i class="fa-solid fa-calendar-check"></i>Obriga√ß√µes Fiscais
      <span class="nav-badge warn">12</span>
    </div>
    <div class="nav-item" data-page="documentos" onclick="navigate('documentos')">
      <i class="fa-solid fa-folder-open"></i>Documentos
      <span class="nav-badge">8</span>
    </div>
    <div class="sidebar-section">Gest√£o</div>
    <div class="nav-item" data-page="financeiro" onclick="navigate('financeiro')">
      <i class="fa-solid fa-wallet"></i>Financeiro
    </div>
    <div class="nav-item" data-page="portal" onclick="navigate('portal')">
      <i class="fa-solid fa-user-shield"></i>Portal do Cliente
    </div>
    <div class="sidebar-section">Sistema</div>
    <div class="nav-item">
      <i class="fa-solid fa-gear"></i>Configura√ß√µes
    </div>
    <div class="nav-item">
      <i class="fa-solid fa-circle-question"></i>Suporte
    </div>
  </nav>
  <div class="sidebar-user">
    <div class="avatar">MC</div>
    <div class="info">Marcos Cont√°bil<span>Administrador</span></div>
  </div>
</aside>

<!-- MAIN -->
<div class="main">
  <header class="topbar">
    <div class="topbar-left">
      <button class="mobile-toggle" onclick="document.getElementById('sidebar').classList.toggle('open')"><i class="fa-solid fa-bars"></i></button>
      <div>
        <h2 id="page-title">Dashboard</h2>
        <div class="breadcrumb" id="breadcrumb">Principal / Dashboard</div>
      </div>
    </div>
    <div class="search-wrap">
      <i class="fa-solid fa-magnifying-glass"></i>
      <input type="text" class="topbar-search" placeholder="Buscar cliente, obriga√ß√£o, documento...">
    </div>
    <div class="topbar-actions">
      <button class="topbar-btn"><i class="fa-regular fa-bell"></i><span class="dot"></span></button>
      <button class="topbar-btn"><i class="fa-regular fa-envelope"></i></button>
      <button class="topbar-btn"><i class="fa-solid fa-moon"></i></button>
    </div>
  </header>

  <div class="content">

    <!-- ===== DASHBOARD ===== -->
    <div class="page active" id="page-dashboard">
      <!-- Period -->
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px">
        <div style="font-size:13px;color:var(--gray-500)"><i class="fa-regular fa-calendar"></i> Compet√™ncia: <strong>Fevereiro 2026</strong></div>
        <div class="period-sel">
          <span class="yr" onclick="this.parentElement.querySelector('.active').classList.remove('active');this.classList.add('active')">2025</span>
          <span class="yr active" onclick="this.parentElement.querySelector('.active').classList.remove('active');this.classList.add('active')">2026</span>
        </div>
      </div>
      <!-- KPIs -->
      <div class="kpi-grid">
        <div class="kpi-card">
          <div class="info">
            <h3>Clientes Ativos</h3>
            <div class="value">147</div>
            <div class="sub up"><i class="fa-solid fa-arrow-up"></i> +3 este m√™s</div>
          </div>
          <div class="icon-box icon-blue"><i class="fa-solid fa-building"></i></div>
        </div>
        <div class="kpi-card">
          <div class="info">
            <h3>Obriga√ß√µes do M√™s</h3>
            <div class="value">312</div>
            <div class="sub down"><i class="fa-solid fa-clock"></i> 12 pendentes</div>
          </div>
          <div class="icon-box icon-yellow"><i class="fa-solid fa-calendar-check"></i></div>
        </div>
        <div class="kpi-card">
          <div class="info">
            <h3>Guias Pendentes</h3>
            <div class="value">28</div>
            <div class="sub down"><i class="fa-solid fa-triangle-exclamation"></i> 5 vencem hoje</div>
          </div>
          <div class="icon-box icon-red"><i class="fa-solid fa-file-invoice-dollar"></i></div>
        </div>
        <div class="kpi-card">
          <div class="info">
            <h3>Documentos Recebidos</h3>
            <div class="value">1.248</div>
            <div class="sub up"><i class="fa-solid fa-arrow-up"></i> +86 esta semana</div>
          </div>
          <div class="icon-box icon-green"><i class="fa-solid fa-folder-open"></i></div>
        </div>
      </div>

      <!-- Charts Row -->
      <div class="grid-3-1">
        <div class="card">
          <div class="card-header">
            <h3><i class="fa-solid fa-chart-line" style="color:var(--blue);margin-right:6px"></i>Receita Honor√°rios vs Recebido</h3>
            <div class="card-actions"><span class="card-action active">12 meses</span><span class="card-action">6 meses</span></div>
          </div>
          <div class="card-body"><div class="chart-container"><canvas id="chartReceita"></canvas></div></div>
        </div>
        <div class="card">
          <div class="card-header"><h3><i class="fa-solid fa-chart-pie" style="color:var(--blue);margin-right:6px"></i>Status Obriga√ß√µes</h3></div>
          <div class="card-body"><div class="chart-container-sm"><canvas id="chartObrigacoes"></canvas></div>
            <div style="display:flex;justify-content:center;gap:16px;margin-top:14px">
              <span style="font-size:11px;display:flex;align-items:center;gap:4px"><span style="width:10px;height:10px;border-radius:50%;background:var(--green);display:inline-block"></span>Entregue (268)</span>
              <span style="font-size:11px;display:flex;align-items:center;gap:4px"><span style="width:10px;height:10px;border-radius:50%;background:var(--yellow);display:inline-block"></span>Pendente (32)</span>
              <span style="font-size:11px;display:flex;align-items:center;gap:4px"><span style="width:10px;height:10px;border-radius:50%;background:var(--red);display:inline-block"></span>Atrasado (12)</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Progress + Timeline + Inadimplencia -->
      <div class="grid-1-1-1">
        <div class="card">
          <div class="card-header"><h3><i class="fa-solid fa-bars-progress" style="color:var(--blue);margin-right:6px"></i>Progresso por Obriga√ß√£o</h3></div>
          <div class="card-body">
            <div class="progress-item"><div class="label"><span>DCTF</span><span>18/23</span></div><div class="progress-bar"><div class="progress-fill" style="width:78%;background:var(--green)"></div></div></div>
            <div class="progress-item"><div class="label"><span>SPED Fiscal</span><span>11/23</span></div><div class="progress-bar"><div class="progress-fill" style="width:48%;background:var(--yellow)"></div></div></div>
            <div class="progress-item"><div class="label"><span>eSocial</span><span>20/23</span></div><div class="progress-bar"><div class="progress-fill" style="width:87%;background:var(--green)"></div></div></div>
            <div class="progress-item"><div class="label"><span>EFD Contribui√ß√µes</span><span>15/23</span></div><div class="progress-bar"><div class="progress-fill" style="width:65%;background:var(--yellow)"></div></div></div>
            <div class="progress-item"><div class="label"><span>EFD REINF</span><span>22/23</span></div><div class="progress-bar"><div class="progress-fill" style="width:96%;background:var(--green)"></div></div></div>
            <div class="progress-item"><div class="label"><span>DIRF</span><span>9/23</span></div><div class="progress-bar"><div class="progress-fill" style="width:39%;background:var(--red)"></div></div></div>
          </div>
        </div>
        <div class="card">
          <div class="card-header"><h3><i class="fa-solid fa-clock-rotate-left" style="color:var(--blue);margin-right:6px"></i>Atividade Recente</h3></div>
          <div class="card-body" style="max-height:300px;overflow-y:auto">
            <div class="timeline-item"><div class="timeline-dot green"><i class="fa-solid fa-check"></i></div><div class="timeline-content"><div class="title">DCTF entregue ‚Äî Padaria Mineir√£o</div><div class="desc">H√° 12 minutos ‚Ä¢ por Ana Souza</div></div></div>
            <div class="timeline-item"><div class="timeline-dot blue"><i class="fa-solid fa-file"></i></div><div class="timeline-content"><div class="title">NF-e recebida ‚Äî Tech Solutions LTDA</div><div class="desc">H√° 34 minutos ‚Ä¢ 15 XMLs</div></div></div>
            <div class="timeline-item"><div class="timeline-dot yellow"><i class="fa-solid fa-clock"></i></div><div class="timeline-content"><div class="title">SPED pendente ‚Äî Grupo Almeida S/A</div><div class="desc">H√° 1 hora ‚Ä¢ vence em 3 dias</div></div></div>
            <div class="timeline-item"><div class="timeline-dot red"><i class="fa-solid fa-exclamation"></i></div><div class="timeline-content"><div class="title">DCTF atrasada ‚Äî Com√©rcio Estrela</div><div class="desc">H√° 2 horas ‚Ä¢ 2 dias de atraso</div></div></div>
            <div class="timeline-item"><div class="timeline-dot green"><i class="fa-solid fa-check"></i></div><div class="timeline-content"><div class="title">eSocial entregue ‚Äî Hospital S√£o Lucas</div><div class="desc">H√° 3 horas ‚Ä¢ por Carlos Lima</div></div></div>
          </div>
        </div>
        <div class="card">
          <div class="card-header"><h3><i class="fa-solid fa-triangle-exclamation" style="color:var(--red);margin-right:6px"></i>Inadimpl√™ncia</h3></div>
          <div class="card-body" style="max-height:300px;overflow-y:auto">
            <table>
              <thead><tr><th>Cliente</th><th>Valor</th><th>Dias</th></tr></thead>
              <tbody>
                <tr><td style="font-weight:600">Auto Pe√ßas Silva</td><td>R$ 1.850,00</td><td><span class="badge badge-red">45d</span></td></tr>
                <tr><td style="font-weight:600">Restaurante Sabor &amp; Arte</td><td>R$ 980,00</td><td><span class="badge badge-red">32d</span></td></tr>
                <tr><td style="font-weight:600">Loja Bella Moda</td><td>R$ 1.200,00</td><td><span class="badge badge-yellow">15d</span></td></tr>
                <tr><td style="font-weight:600">Metal√∫rgica Progresso</td><td>R$ 2.400,00</td><td><span class="badge badge-yellow">8d</span></td></tr>
                <tr><td style="font-weight:600">Cl√≠nica Bem Estar</td><td>R$ 750,00</td><td><span class="badge badge-yellow">5d</span></td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- ===== CLIENTES ===== -->
    <div class="page" id="page-clientes">
      <div class="filter-bar">
        <select><option>Todos os Regimes</option><option>Simples Nacional</option><option>Lucro Presumido</option><option>Lucro Real</option><option>MEI</option></select>
        <select><option>Todos os Status</option><option>Ativo</option><option>Suspenso</option></select>
        <select><option>Todos os Respons√°veis</option><option>Ana Souza</option><option>Carlos Lima</option><option>Juliana Mendes</option></select>
        <input type="text" placeholder="Buscar CNPJ ou Raz√£o Social...">
        <button class="btn btn-primary"><i class="fa-solid fa-plus"></i> Novo Cliente</button>
      </div>
      <div class="card">
        <div class="card-body" style="padding:0;overflow-x:auto">
          <table id="tbl-clientes">
            <thead>
              <tr><th style="width:30px"></th><th>Raz√£o Social</th><th>CNPJ</th><th>Regime</th><th>Status</th><th>Honor√°rios</th><th>Respons√°vel</th></tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- ===== OBRIGA√á√ïES ===== -->
    <div class="page" id="page-obrigacoes">
      <div class="filter-bar">
        <button class="btn btn-outline" onclick="changeMonth(-1)"><i class="fa-solid fa-chevron-left"></i></button>
        <span id="cal-month" style="font-weight:700;font-size:15px;min-width:180px;text-align:center">Fevereiro 2026</span>
        <button class="btn btn-outline" onclick="changeMonth(1)"><i class="fa-solid fa-chevron-right"></i></button>
        <select style="margin-left:auto"><option>Todas as Obriga√ß√µes</option><option>SPED</option><option>DCTF</option><option>eSocial</option><option>EFD</option><option>DIRF</option><option>ECF</option><option>RAIS</option><option>REINF</option></select>
      </div>
      <div class="grid-3-1">
        <div class="card">
          <div class="card-body" style="padding:12px">
            <div class="cal-grid">
              <div class="cal-header">Dom</div><div class="cal-header">Seg</div><div class="cal-header">Ter</div><div class="cal-header">Qua</div><div class="cal-header">Qui</div><div class="cal-header">Sex</div><div class="cal-header">S√°b</div>
            </div>
            <div class="cal-grid" id="cal-body"></div>
          </div>
        </div>
        <div class="card">
          <div class="card-header"><h3><i class="fa-solid fa-list" style="color:var(--blue);margin-right:6px"></i>Obriga√ß√µes do Dia</h3></div>
          <div class="card-body" id="day-obligations">
            <div style="text-align:center;color:var(--gray-400);padding:30px 0"><i class="fa-regular fa-calendar" style="font-size:28px;display:block;margin-bottom:8px"></i>Selecione um dia no calend√°rio</div>
          </div>
        </div>
      </div>
      <!-- Pr√≥ximos Vencimentos -->
      <div class="card">
        <div class="card-header"><h3><i class="fa-solid fa-hourglass-half" style="color:var(--yellow);margin-right:6px"></i>Pr√≥ximos Vencimentos</h3></div>
        <div class="card-body" style="padding:0;overflow-x:auto">
          <table>
            <thead><tr><th>Obriga√ß√£o</th><th>Cliente</th><th>Compet√™ncia</th><th>Prazo</th><th>Status</th><th>Respons√°vel</th><th>Contagem</th></tr></thead>
            <tbody>
              <tr><td><strong>DCTF</strong></td><td>Padaria Mineir√£o LTDA</td><td>01/2026</td><td>20/02/2026</td><td><span class="badge badge-yellow">Pendente</span></td><td>Ana Souza</td><td class="countdown soon"><i class="fa-solid fa-clock"></i> falta hoje!</td></tr>
              <tr><td><strong>SPED Fiscal</strong></td><td>Grupo Almeida S/A</td><td>01/2026</td><td>22/02/2026</td><td><span class="badge badge-yellow">Pendente</span></td><td>Carlos Lima</td><td class="countdown soon"><i class="fa-solid fa-clock"></i> 1 dia</td></tr>
              <tr><td><strong>EFD REINF</strong></td><td>Tech Solutions LTDA</td><td>01/2026</td><td>23/02/2026</td><td><span class="badge badge-yellow">Pendente</span></td><td>Juliana Mendes</td><td class="countdown soon"><i class="fa-solid fa-clock"></i> 2 dias</td></tr>
              <tr><td><strong>eSocial</strong></td><td>Com√©rcio Estrela ME</td><td>01/2026</td><td>25/02/2026</td><td><span class="badge badge-yellow">Pendente</span></td><td>Ana Souza</td><td class="countdown ok"><i class="fa-solid fa-clock"></i> 4 dias</td></tr>
              <tr><td><strong>DCTF</strong></td><td>Hospital S√£o Lucas</td><td>01/2026</td><td>20/02/2026</td><td><span class="badge badge-red">Atrasado</span></td><td>Carlos Lima</td><td class="countdown"><i class="fa-solid fa-exclamation-triangle"></i> -1 dia</td></tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- ===== DOCUMENTOS ===== -->
    <div class="page" id="page-documentos">
      <div class="upload-zone" id="upload-zone">
        <i class="fa-solid fa-cloud-arrow-up"></i>
        <div style="font-size:15px;font-weight:600;margin-bottom:4px">Arraste arquivos aqui ou clique para enviar</div>
        <div style="font-size:12px">NF-e XML, Extratos, Comprovantes, Guias, Contratos ‚Ä¢ M√°x. 25MB</div>
      </div>
      <div class="filter-bar">
        <select><option>Todas as Categorias</option><option>NF-e XML</option><option>Extratos Banc√°rios</option><option>Comprovantes</option><option>Guias</option><option>Contratos</option></select>
        <select><option>Todos os Status</option><option>Recebido</option><option>Em An√°lise</option><option>Processado</option><option>Pendente</option></select>
        <input type="text" placeholder="Buscar documento...">
        <select><option>Todos os Clientes</option><option>Padaria Mineir√£o</option><option>Tech Solutions</option><option>Grupo Almeida</option></select>
      </div>
      <div class="docs-grid" id="docs-grid"></div>
    </div>

    <!-- ===== FINANCEIRO ===== -->
    <div class="page" id="page-financeiro">
      <div class="kpi-grid">
        <div class="kpi-card">
          <div class="info"><h3>Faturamento M√™s</h3><div class="value">R$ 186.540</div><div class="sub up"><i class="fa-solid fa-arrow-up"></i> +4,2% vs m√™s anterior</div></div>
          <div class="icon-box icon-green"><i class="fa-solid fa-dollar-sign"></i></div>
        </div>
        <div class="kpi-card">
          <div class="info"><h3>Inadimpl√™ncia</h3><div class="value">3,8%</div><div class="sub down"><i class="fa-solid fa-arrow-up"></i> +0,5% vs m√™s anterior</div></div>
          <div class="icon-box icon-red"><i class="fa-solid fa-chart-line"></i></div>
        </div>
        <div class="kpi-card">
          <div class="info"><h3>Ticket M√©dio</h3><div class="value">R$ 1.269</div><div class="sub up"><i class="fa-solid fa-arrow-up"></i> +R$ 42</div></div>
          <div class="icon-box icon-blue"><i class="fa-solid fa-receipt"></i></div>
        </div>
        <div class="kpi-card">
          <div class="info"><h3>Previs√£o Pr√≥x. M√™s</h3><div class="value">R$ 192.800</div><div class="sub up"><i class="fa-solid fa-arrow-up"></i> +3,4%</div></div>
          <div class="icon-box icon-yellow"><i class="fa-solid fa-chart-bar"></i></div>
        </div>
      </div>
      <div class="grid-2">
        <div class="card">
          <div class="card-header"><h3><i class="fa-solid fa-chart-bar" style="color:var(--blue);margin-right:6px"></i>Faturamento Mensal</h3></div>
          <div class="card-body"><div class="chart-container"><canvas id="chartFaturamento"></canvas></div></div>
        </div>
        <div class="card">
          <div class="card-header"><h3><i class="fa-solid fa-chart-pie" style="color:var(--blue);margin-right:6px"></i>Distribui√ß√£o por Regime</h3></div>
          <div class="card-body"><div class="chart-container"><canvas id="chartRegime"></canvas></div></div>
        </div>
      </div>
      <div class="card">
        <div class="card-header"><h3><i class="fa-solid fa-file-invoice" style="color:var(--blue);margin-right:6px"></i>Faturas Recentes</h3></div>
        <div class="card-body" style="padding:0;overflow-x:auto">
          <table>
            <thead><tr><th>Cliente</th><th>Valor</th><th>Compet√™ncia</th><th>Vencimento</th><th>Status</th></tr></thead>
            <tbody>
              <tr><td><strong>Grupo Almeida S/A</strong></td><td>R$ 4.500,00</td><td>02/2026</td><td>10/02/2026</td><td><span class="badge badge-green"><i class="fa-solid fa-check"></i> Pago</span></td></tr>
              <tr><td><strong>Tech Solutions LTDA</strong></td><td>R$ 2.800,00</td><td>02/2026</td><td>10/02/2026</td><td><span class="badge badge-green"><i class="fa-solid fa-check"></i> Pago</span></td></tr>
              <tr><td><strong>Hospital S√£o Lucas</strong></td><td>R$ 5.200,00</td><td>02/2026</td><td>15/02/2026</td><td><span class="badge badge-green"><i class="fa-solid fa-check"></i> Pago</span></td></tr>
              <tr><td><strong>Padaria Mineir√£o LTDA</strong></td><td>R$ 980,00</td><td>02/2026</td><td>20/02/2026</td><td><span class="badge badge-yellow"><i class="fa-solid fa-clock"></i> Pendente</span></td></tr>
              <tr><td><strong>Auto Pe√ßas Silva</strong></td><td>R$ 1.850,00</td><td>01/2026</td><td>10/01/2026</td><td><span class="badge badge-red"><i class="fa-solid fa-exclamation"></i> Atrasado</span></td></tr>
              <tr><td><strong>Restaurante Sabor &amp; Arte</strong></td><td>R$ 980,00</td><td>01/2026</td><td>10/01/2026</td><td><span class="badge badge-red"><i class="fa-solid fa-exclamation"></i> Atrasado</span></td></tr>
              <tr><td><strong>Loja Bella Moda</strong></td><td>R$ 1.200,00</td><td>02/2026</td><td>05/02/2026</td><td><span class="badge badge-red"><i class="fa-solid fa-exclamation"></i> Atrasado</span></td></tr>
              <tr><td><strong>Metal√∫rgica Progresso</strong></td><td>R$ 2.400,00</td><td>02/2026</td><td>12/02/2026</td><td><span class="badge badge-yellow"><i class="fa-solid fa-clock"></i> Pendente</span></td></tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- ===== PORTAL DO CLIENTE ===== -->
    <div class="page" id="page-portal">
      <div style="margin-bottom:16px;padding:14px 20px;background:var(--blue-50);border:1px solid var(--blue-light);border-radius:var(--radius);display:flex;align-items:center;gap:10px">
        <i class="fa-solid fa-eye" style="color:var(--blue);font-size:18px"></i>
        <div><strong style="color:var(--blue)">Pr√©-visualiza√ß√£o do Portal do Cliente</strong><br><span style="font-size:12px;color:var(--gray-600)">Esta √© a vis√£o que o cliente <strong>Padaria Mineir√£o LTDA</strong> ter√° ao acessar o portal.</span></div>
      </div>
      <div class="portal-preview">
        <div class="portal-header">
          <div class="brand"><div style="width:32px;height:32px;background:var(--blue);border-radius:6px;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:800;font-size:12px">CF</div> ContaFlow ‚Äî Portal do Cliente</div>
          <div style="font-size:12px;color:var(--gray-500)">Padaria Mineir√£o LTDA ‚Ä¢ CNPJ: 12.345.678/0001-90</div>
        </div>
        <div class="portal-body">
          <div class="portal-card">
            <h4><i class="fa-solid fa-file-arrow-up"></i> Documentos Pendentes de Envio</h4>
            <div class="guia-item"><div><div style="font-weight:600;font-size:12px">Extrato Banc√°rio</div><div style="font-size:11px;color:var(--gray-500)">Compet√™ncia: 01/2026</div></div><span class="badge badge-red">Pendente</span></div>
            <div class="guia-item"><div><div style="font-weight:600;font-size:12px">NF-e de Servi√ßos</div><div style="font-size:11px;color:var(--gray-500)">Compet√™ncia: 01/2026</div></div><span class="badge badge-yellow">Atrasado</span></div>
            <div class="guia-item"><div><div style="font-weight:600;font-size:12px">Comprovante de Pagamento</div><div style="font-size:11px;color:var(--gray-500)">FGTS ‚Äî 01/2026</div></div><span class="badge badge-red">Pendente</span></div>
            <div style="margin-top:12px"><button class="btn btn-primary btn-sm"><i class="fa-solid fa-upload"></i> Enviar Documentos</button></div>
          </div>
          <div class="portal-card">
            <h4><i class="fa-solid fa-calendar-check"></i> Obriga√ß√µes do M√™s</h4>
            <div class="guia-item"><div><div style="font-weight:600;font-size:12px">DCTF</div><div style="font-size:11px;color:var(--gray-500)">Prazo: 20/02/2026</div></div><span class="badge badge-green">Entregue</span></div>
            <div class="guia-item"><div><div style="font-weight:600;font-size:12px">SPED Fiscal</div><div style="font-size:11px;color:var(--gray-500)">Prazo: 22/02/2026</div></div><span class="badge badge-yellow">Em andamento</span></div>
            <div class="guia-item"><div><div style="font-weight:600;font-size:12px">eSocial</div><div style="font-size:11px;color:var(--gray-500)">Prazo: 15/02/2026</div></div><span class="badge badge-green">Entregue</span></div>
            <div class="guia-item"><div><div style="font-weight:600;font-size:12px">EFD Contribui√ß√µes</div><div style="font-size:11px;color:var(--gray-500)">Prazo: 25/02/2026</div></div><span class="badge badge-gray">Aguardando</span></div>
          </div>
          <div class="portal-card">
            <h4><i class="fa-solid fa-barcode"></i> Guias para Pagamento</h4>
            <div class="guia-item"><div><div style="font-weight:600;font-size:12px">DAS ‚Äî Simples Nacional</div><div style="font-size:11px;color:var(--gray-500)">Venc: 20/02/2026 ‚Ä¢ R$ 1.542,87</div></div><button class="btn btn-outline btn-sm"><i class="fa-solid fa-download"></i> PDF</button></div>
            <div class="guia-item"><div><div style="font-weight:600;font-size:12px">DARF ‚Äî IRRF</div><div style="font-size:11px;color:var(--gray-500)">Venc: 20/02/2026 ‚Ä¢ R$ 348,20</div></div><button class="btn btn-outline btn-sm"><i class="fa-solid fa-download"></i> PDF</button></div>
            <div class="guia-item"><div><div style="font-weight:600;font-size:12px">GPS ‚Äî INSS</div><div style="font-size:11px;color:var(--gray-500)">Venc: 20/02/2026 ‚Ä¢ R$ 2.187,45</div></div><button class="btn btn-outline btn-sm"><i class="fa-solid fa-download"></i> PDF</button></div>
            <div class="guia-item"><div><div style="font-weight:600;font-size:12px">FGTS</div><div style="font-size:11px;color:var(--gray-500)">Venc: 07/02/2026 ‚Ä¢ R$ 1.890,00</div></div><button class="btn btn-outline btn-sm"><i class="fa-solid fa-download"></i> PDF</button></div>
          </div>
          <div class="portal-card">
            <h4><i class="fa-solid fa-chart-simple"></i> Resumo Financeiro</h4>
            <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:12px">
              <div style="background:var(--green-light);padding:12px;border-radius:8px;text-align:center"><div style="font-size:11px;color:var(--green);font-weight:600">Honor√°rios</div><div style="font-size:18px;font-weight:800;color:var(--green)">R$ 980</div></div>
              <div style="background:var(--blue-50);padding:12px;border-radius:8px;text-align:center"><div style="font-size:11px;color:var(--blue);font-weight:600">Guias do M√™s</div><div style="font-size:18px;font-weight:800;color:var(--blue)">R$ 5.968</div></div>
            </div>
            <div style="font-size:11px;color:var(--gray-500);text-align:center"><i class="fa-solid fa-check-circle" style="color:var(--green)"></i> Honor√°rios em dia ‚Äî Pr√≥x. vencimento: 10/03/2026</div>
          </div>
          <!-- Chat -->
          <div class="chat-box">
            <h4 style="font-size:13px;font-weight:700;margin-bottom:12px;display:flex;align-items:center;gap:8px"><i class="fa-solid fa-comments" style="color:var(--blue)"></i> Chat com Contador <span class="badge badge-green" style="font-size:9px">Online</span></h4>
            <div class="chat-messages">
              <div class="chat-msg them"><div class="bubble">Bom dia! Preciso do extrato banc√°rio de janeiro para fechar o SPED. Pode enviar?</div></div>
              <div class="chat-msg me"><div class="bubble">Oi Ana! Vou enviar hoje √† tarde, t√°?</div></div>
              <div class="chat-msg them"><div class="bubble">Perfeito! Assim consigo entregar o SPED antes do prazo. üëç</div></div>
            </div>
            <div class="chat-input">
              <input type="text" placeholder="Digite sua mensagem...">
              <button class="btn btn-primary btn-sm"><i class="fa-solid fa-paper-plane"></i></button>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>

<script>
// ===== NAVIGATION =====
function navigate(page) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
  document.getElementById('page-' + page).classList.add('active');
  document.querySelector(`.nav-item[data-page="${page}"]`).classList.add('active');
  const titles = {dashboard:'Dashboard',clientes:'Clientes',obrigacoes:'Obriga√ß√µes Fiscais',documentos:'Documentos',financeiro:'Financeiro',portal:'Portal do Cliente'};
  const crumbs = {dashboard:'Principal / Dashboard',clientes:'Principal / Clientes',obrigacoes:'Fiscal / Obriga√ß√µes Fiscais',documentos:'Fiscal / Documentos',financeiro:'Gest√£o / Financeiro',portal:'Gest√£o / Portal do Cliente'};
  document.getElementById('page-title').textContent = titles[page];
  document.getElementById('breadcrumb').textContent = crumbs[page];
  if (page === 'obrigacoes') renderCalendar();
  if (page === 'financeiro') renderFinCharts();
}

// ===== CLIENTES DATA =====
const clientes = [
  {razao:'Grupo Almeida S/A',cnpj:'04.567.890/0001-12',regime:'Lucro Real',status:'Ativo',hon:'R$ 4.500,00',resp:'Ana Souza',email:'financeiro@grupoalmeida.com.br',tel:'(11) 3456-7890',mun:'S√£o Paulo/SP',obr:['SPED','DCTF','ECF','eSocial','EFD REINF'],docs:2},
  {razao:'Tech Solutions LTDA',cnpj:'12.890.456/0001-78',regime:'Lucro Presumido',status:'Ativo',hon:'R$ 2.800,00',resp:'Carlos Lima',email:'contato@techsolutions.com.br',tel:'(11) 2345-6789',mun:'Campinas/SP',obr:['SPED','DCTF','eSocial','EFD'],docs:0},
  {razao:'Padaria Mineir√£o LTDA',cnpj:'12.345.678/0001-90',regime:'Simples Nacional',status:'Ativo',hon:'R$ 980,00',resp:'Ana Souza',email:'padaria@mineir√£o.com.br',tel:'(31) 3456-1234',mun:'Belo Horizonte/MG',obr:['DAS','eSocial','REINF'],docs:3},
  {razao:'Hospital S√£o Lucas',cnpj:'34.567.890/0001-56',regime:'Lucro Real',status:'Ativo',hon:'R$ 5.200,00',resp:'Carlos Lima',email:'adm@hsaolucas.com.br',tel:'(21) 2234-5678',mun:'Rio de Janeiro/RJ',obr:['SPED','DCTF','ECF','eSocial','EFD','REINF','DIRF'],docs:1},
  {razao:'Com√©rcio Estrela ME',cnpj:'56.789.012/0001-34',regime:'Simples Nacional',status:'Ativo',hon:'R$ 650,00',resp:'Juliana Mendes',email:'estrela@comercio.com.br',tel:'(11) 4567-8901',mun:'Osasco/SP',obr:['DAS','eSocial'],docs:0},
  {razao:'Auto Pe√ßas Silva',cnpj:'78.901.234/0001-56',regime:'Lucro Presumido',status:'Ativo',hon:'R$ 1.850,00',resp:'Ana Souza',email:'silva@autopecas.com.br',tel:'(19) 3456-7890',mun:'Ribeir√£o Preto/SP',obr:['SPED','DCTF','eSocial','EFD'],docs:1},
  {razao:'Restaurante Sabor & Arte',cnpj:'23.456.789/0001-01',regime:'Simples Nacional',status:'Ativo',hon:'R$ 980,00',resp:'Juliana Mendes',email:'contato@saborarte.com.br',tel:'(11) 5678-9012',mun:'S√£o Paulo/SP',obr:['DAS','eSocial','REINF'],docs:0},
  {razao:'Loja Bella Moda',cnpj:'45.678.901/0001-23',regime:'Simples Nacional',status:'Suspenso',hon:'R$ 1.200,00',resp:'Carlos Lima',email:'moda@bellamoda.com.br',tel:'(11) 6789-0123',mun:'Guarulhos/SP',obr:['DAS','eSocial'],docs:4},
  {razao:'Metal√∫rgica Progresso',cnpj:'67.890.123/0001-45',regime:'Lucro Presumido',status:'Ativo',hon:'R$ 2.400,00',resp:'Ana Souza',email:'adm@metprogresso.com.br',tel:'(11) 7890-1234',mun:'Santo Andr√©/SP',obr:['SPED','DCTF','eSocial','EFD','REINF'],docs:0},
  {razao:'Cl√≠nica Bem Estar',cnpj:'89.012.345/0001-67',regime:'Lucro Presumido',status:'Ativo',hon:'R$ 750,00',resp:'Juliana Mendes',email:'clinica@bemestar.com.br',tel:'(21) 3456-7890',mun:'Niter√≥i/RJ',obr:['SPED','DCTF','eSocial'],docs:2},
  {razao:'Construtora Horizonte',cnpj:'11.223.344/0001-55',regime:'Lucro Real',status:'Ativo',hon:'R$ 6.800,00',resp:'Carlos Lima',email:'financeiro@horizonte.com.br',tel:'(11) 8901-2345',mun:'S√£o Paulo/SP',obr:['SPED','DCTF','ECF','eSocial','EFD','REINF','DIRF'],docs:0},
  {razao:'Farm√°cia Popular LTDA',cnpj:'22.334.455/0001-66',regime:'Simples Nacional',status:'Ativo',hon:'R$ 890,00',resp:'Ana Souza',email:'farm@popular.com.br',tel:'(31) 4567-8901',mun:'Contagem/MG',obr:['DAS','eSocial','REINF'],docs:1},
  {razao:'Transportadora Velox',cnpj:'33.445.566/0001-77',regime:'Lucro Presumido',status:'Ativo',hon:'R$ 3.200,00',resp:'Juliana Mendes',email:'adm@velox.com.br',tel:'(41) 5678-9012',mun:'Curitiba/PR',obr:['SPED','DCTF','eSocial','EFD','REINF'],docs:0},
  {razao:'Escola Saber Viver',cnpj:'44.556.677/0001-88',regime:'Simples Nacional',status:'Ativo',hon:'R$ 1.100,00',resp:'Carlos Lima',email:'contato@saberviver.edu.br',tel:'(11) 9012-3456',mun:'S√£o Bernardo/SP',obr:['DAS','eSocial','REINF'],docs:2},
  {razao:'Supermercado Bom Pre√ßo',cnpj:'55.667.788/0001-99',regime:'Lucro Presumido',status:'Ativo',hon:'R$ 3.500,00',resp:'Ana Souza',email:'financeiro@bompreco.com.br',tel:'(81) 3456-7890',mun:'Recife/PE',obr:['SPED','DCTF','eSocial','EFD'],docs:0},
];

function renderClientes(){
  const tbody = document.querySelector('#tbl-clientes tbody');
  const regimeColors = {'Simples Nacional':'badge-blue','Lucro Presumido':'badge-yellow','Lucro Real':'badge-red','MEI':'badge-gray'};
  tbody.innerHTML = clientes.map((c,i) => `
    <tr onclick="toggleExpand(${i})" style="cursor:pointer">
      <td><i class="fa-solid fa-chevron-right" id="chev-${i}" style="font-size:10px;color:var(--gray-400);transition:transform .2s"></i></td>
      <td><strong>${c.razao}</strong></td>
      <td style="font-family:monospace;font-size:12px">${c.cnpj}</td>
      <td><span class="badge ${regimeColors[c.regime]||'badge-gray'}">${c.regime}</span></td>
      <td><span class="badge ${c.status==='Ativo'?'badge-green':'badge-red'}">${c.status}</span></td>
      <td>${c.hon}</td>
      <td>${c.resp}</td>
    </tr>
    <tr class="expand-row" id="expand-${i}">
      <td colspan="7">
        <div class="expand-content">
          <div class="detail-group"><h5>Dados Cadastrais</h5><p><strong>CNPJ:</strong> ${c.cnpj}</p><p><strong>Munic√≠pio:</strong> ${c.mun}</p><p><strong>Regime:</strong> ${c.regime}</p></div>
          <div class="detail-group"><h5>Contatos</h5><p><i class="fa-solid fa-envelope" style="width:14px"></i> ${c.email}</p><p><i class="fa-solid fa-phone" style="width:14px"></i> ${c.tel}</p><p><i class="fa-solid fa-user" style="width:14px"></i> Respons√°vel: ${c.resp}</p></div>
          <div class="detail-group"><h5>Obriga√ß√µes (${c.obr.length})</h5><p>${c.obr.map(o=>`<span class="badge badge-blue" style="margin:2px">${o}</span>`).join('')}</p><h5 style="margin-top:8px">Docs Pendentes</h5><p>${c.docs>0?`<span class="badge badge-yellow">${c.docs} pendente(s)</span>`:'<span class="badge badge-green">Nenhum pendente</span>'}</p></div>
        </div>
      </td>
    </tr>
  `).join('');
}
function toggleExpand(i){
  const row = document.getElementById('expand-'+i);
  const chev = document.getElementById('chev-'+i);
  row.classList.toggle('show');
  chev.style.transform = row.classList.contains('show') ? 'rotate(90deg)' : '';
}
renderClientes();

// ===== CALENDAR =====
let calMonth = 1, calYear = 2026; // Feb 2026
const monthNames = ['Janeiro','Fevereiro','Mar√ßo','Abril','Maio','Junho','Julho','Agosto','Setembro','Outubro','Novembro','Dezembro'];
const obrigacoesCal = [
  {day:7,tipo:'FGTS',status:'green',cliente:'Todos'},{day:7,tipo:'GPS',status:'green',cliente:'Todos'},
  {day:14,tipo:'EFD REINF',status:'green',cliente:'Grupo Almeida'},{day:14,tipo:'eSocial',status:'green',cliente:'Hospital S√£o Lucas'},
  {day:15,tipo:'eSocial',status:'green',cliente:'Tech Solutions'},{day:15,tipo:'DCTF',status:'green',cliente:'Construtora'},
  {day:20,tipo:'DCTF',status:'yellow',cliente:'Padaria Mineir√£o'},{day:20,tipo:'DCTF',status:'red',cliente:'Hosp. S√£o Lucas'},
  {day:20,tipo:'DAS',status:'yellow',cliente:'Com√©rcio Estrela'},{day:20,tipo:'DARF',status:'green',cliente:'Grupo Almeida'},
  {day:22,tipo:'SPED',status:'yellow',cliente:'Grupo Almeida'},{day:22,tipo:'EFD',status:'yellow',cliente:'Metal√∫rgica'},
  {day:23,tipo:'REINF',status:'yellow',cliente:'Tech Solutions'},{day:25,tipo:'eSocial',status:'yellow',cliente:'Com. Estrela'},
  {day:25,tipo:'EFD Contrib.',status:'green',cliente:'Auto Pe√ßas'},{day:28,tipo:'ECF',status:'green',cliente:'Hosp. S√£o Lucas'},
  {day:10,tipo:'SPED',status:'green',cliente:'Tech Solutions'},{day:10,tipo:'eSocial',status:'green',cliente:'Padaria'},
  {day:5,tipo:'DCTF',status:'green',cliente:'Auto Pe√ßas'},{day:5,tipo:'eSocial',status:'green',cliente:'Metal√∫rgica'},
];

function renderCalendar(){
  const body = document.getElementById('cal-body');
  const first = new Date(calYear,calMonth,1);
  const lastDay = new Date(calYear,calMonth+1,0).getDate();
  const startDay = first.getDay();
  const today = new Date();
  document.getElementById('cal-month').textContent = monthNames[calMonth]+' '+calYear;
  let html = '';
  // prev month padding
  const prevLast = new Date(calYear,calMonth,0).getDate();
  for(let i=startDay-1;i>=0;i--) html += `<div class="cal-day other"><div class="day-num">${prevLast-i}</div></div>`;
  for(let d=1;d<=lastDay;d++){
    const isToday = (d===today.getDate()&&calMonth===today.getMonth()&&calYear===today.getFullYear());
    const dayObr = obrigacoesCal.filter(o=>o.day===d);
    html += `<div class="cal-day${isToday?' today':''}" onclick="showDayObr(${d})"><div class="day-num">${d}</div>`;
    dayObr.slice(0,3).forEach(o=>{html+=`<div class="cal-tag ${o.status}">${o.tipo}</div>`});
    if(dayObr.length>3) html+=`<div style="font-size:9px;color:var(--gray-500)">+${dayObr.length-3} mais</div>`;
    html += '</div>';
  }
  // next month padding
  const totalCells = startDay + lastDay;
  const remaining = (7 - totalCells % 7) % 7;
  for(let i=1;i<=remaining;i++) html += `<div class="cal-day other"><div class="day-num">${i}</div></div>`;
  body.innerHTML = html;
}
function showDayObr(day){
  const dayObr = obrigacoesCal.filter(o=>o.day===day);
  const el = document.getElementById('day-obligations');
  if(!dayObr.length){el.innerHTML='<div style="text-align:center;color:var(--gray-400);padding:20px">Nenhuma obriga√ß√£o neste dia</div>';return;}
  el.innerHTML = `<div style="font-weight:700;margin-bottom:12px;font-size:13px">${day} de ${monthNames[calMonth]}</div>` +
    dayObr.map(o=>`<div style="display:flex;align-items:center;justify-content:space-between;padding:8px 0;border-bottom:1px solid var(--gray-200)"><div><div style="font-weight:600;font-size:12.5px">${o.tipo}</div><div style="font-size:11px;color:var(--gray-500)">${o.cliente}</div></div><span class="badge badge-${o.status==='green'?'green':o.status==='yellow'?'yellow':'red'}">${o.status==='green'?'Entregue':o.status==='yellow'?'Pendente':'Atrasado'}</span></div>`).join('');
}
function changeMonth(dir){calMonth+=dir;if(calMonth>11){calMonth=0;calYear++}if(calMonth<0){calMonth=11;calYear--}renderCalendar();}

// ===== DOCUMENTS =====
const docs = [
  {name:'NF-e_Jan2026_001.xml',cat:'NF-e XML',status:'Processado',cliente:'Tech Solutions',data:'18/02/2026',icon:'fa-file-code',color:'icon-blue'},
  {name:'NF-e_Jan2026_002.xml',cat:'NF-e XML',status:'Processado',cliente:'Grupo Almeida',data:'17/02/2026',icon:'fa-file-code',color:'icon-blue'},
  {name:'Extrato_Itau_Jan26.pdf',cat:'Extratos',status:'Em An√°lise',cliente:'Padaria Mineir√£o',data:'16/02/2026',icon:'fa-file-pdf',color:'icon-red'},
  {name:'Comprovante_FGTS.pdf',cat:'Comprovantes',status:'Recebido',cliente:'Hospital S√£o Lucas',data:'15/02/2026',icon:'fa-file-lines',color:'icon-green'},
  {name:'DARF_IRRF_Jan26.pdf',cat:'Guias',status:'Processado',cliente:'Grupo Almeida',data:'14/02/2026',icon:'fa-file-invoice-dollar',color:'icon-yellow'},
  {name:'Contrato_Social_v2.pdf',cat:'Contratos',status:'Recebido',cliente:'Com√©rcio Estrela',data:'13/02/2026',icon:'fa-file-contract',color:'icon-blue'},
  {name:'NF-e_Servicos_015.xml',cat:'NF-e XML',status:'Pendente',cliente:'Metal√∫rgica Progresso',data:'12/02/2026',icon:'fa-file-code',color:'icon-blue'},
  {name:'Extrato_BB_Jan26.pdf',cat:'Extratos',status:'Pendente',cliente:'Auto Pe√ßas Silva',data:'11/02/2026',icon:'fa-file-pdf',color:'icon-red'},
  {name:'GPS_Jan2026.pdf',cat:'Guias',status:'Processado',cliente:'Construtora Horizonte',data:'10/02/2026',icon:'fa-file-invoice-dollar',color:'icon-yellow'},
  {name:'NF-e_Jan2026_089.xml',cat:'NF-e XML',status:'Processado',cliente:'Transportadora Velox',data:'09/02/2026',icon:'fa-file-code',color:'icon-blue'},
  {name:'Comprovante_DAS.pdf',cat:'Comprovantes',status:'Em An√°lise',cliente:'Farm√°cia Popular',data:'08/02/2026',icon:'fa-file-lines',color:'icon-green'},
  {name:'Alteracao_Contrato.pdf',cat:'Contratos',status:'Recebido',cliente:'Escola Saber Viver',data:'07/02/2026',icon:'fa-file-contract',color:'icon-blue'},
];
const statusColors = {'Processado':'badge-green','Recebido':'badge-blue','Em An√°lise':'badge-yellow','Pendente':'badge-red'};
function renderDocs(){
  document.getElementById('docs-grid').innerHTML = docs.map(d=>`
    <div class="doc-card">
      <div class="doc-icon ${d.color}"><i class="fa-solid ${d.icon}"></i></div>
      <div class="doc-name" title="${d.name}">${d.name}</div>
      <div class="doc-meta">${d.cat} ‚Ä¢ ${d.cliente}</div>
      <div style="margin-top:8px;display:flex;justify-content:space-between;align-items:center">
        <span class="badge ${statusColors[d.status]}">${d.status}</span>
        <span style="font-size:10px;color:var(--gray-400)">${d.data}</span>
      </div>
    </div>
  `).join('');
}
renderDocs();

// ===== CHARTS =====
const chartDefaults = {responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false}},scales:{x:{grid:{display:false},ticks:{font:{size:11,family:'Inter'}}},y:{grid:{color:'#f1f5f9'},ticks:{font:{size:11,family:'Inter'}}}}};

// Dashboard: Receita vs Recebido
new Chart(document.getElementById('chartReceita'),{
  type:'line',
  data:{
    labels:['Mar','Abr','Mai','Jun','Jul','Ago','Set','Out','Nov','Dez','Jan','Fev'],
    datasets:[
      {label:'Honor√°rios',data:[168000,170500,172000,174800,176200,178500,180000,181200,183000,184500,186000,186540],borderColor:'#1E40AF',backgroundColor:'rgba(30,64,175,.08)',fill:true,tension:.4,pointRadius:3,pointBackgroundColor:'#1E40AF',borderWidth:2.5},
      {label:'Recebido',data:[162000,165800,168200,170000,172500,174000,175800,177000,179500,181200,182000,179600],borderColor:'#059669',backgroundColor:'rgba(5,150,105,.08)',fill:true,tension:.4,pointRadius:3,pointBackgroundColor:'#059669',borderWidth:2.5}
    ]
  },
  options:{...chartDefaults,plugins:{legend:{display:true,position:'top',labels:{usePointStyle:true,pointStyle:'circle',font:{size:11,family:'Inter'}}}}}
});

// Dashboard: Donut Obriga√ß√µes
new Chart(document.getElementById('chartObrigacoes'),{
  type:'doughnut',
  data:{labels:['Entregue','Pendente','Atrasado'],datasets:[{data:[268,32,12],backgroundColor:['#059669','#D97706','#DC2626'],borderWidth:0,hoverOffset:6}]},
  options:{responsive:true,maintainAspectRatio:false,cutout:'72%',plugins:{legend:{display:false}}}
});

// Financeiro Charts
function renderFinCharts(){
  if(window._finInit) return; window._finInit=true;
  new Chart(document.getElementById('chartFaturamento'),{
    type:'bar',
    data:{labels:['Set','Out','Nov','Dez','Jan','Fev'],datasets:[{label:'Faturamento',data:[175800,177000,179500,181200,182000,186540],backgroundColor:'#1E40AF',borderRadius:6,barThickness:36}]},
    options:chartDefaults
  });
  new Chart(document.getElementById('chartRegime'),{
    type:'doughnut',
    data:{labels:['Simples Nacional','Lucro Presumido','Lucro Real','MEI'],datasets:[{data:[52,38,28,29],backgroundColor:['#3B82F6','#D97706','#DC2626','#94A3B8'],borderWidth:0,hoverOffset:6}]},
    options:{responsive:true,maintainAspectRatio:false,cutout:'65%',plugins:{legend:{display:true,position:'right',labels:{usePointStyle:true,pointStyle:'circle',font:{size:11,family:'Inter'}}}}}
  });
}

// Upload zone hover
const uz = document.getElementById('upload-zone');
uz.addEventListener('dragover',e=>{e.preventDefault();uz.style.borderColor='var(--blue)';uz.style.background='var(--blue-50)'});
uz.addEventListener('dragleave',()=>{uz.style.borderColor='';uz.style.background=''});
uz.addEventListener('drop',e=>{e.preventDefault();uz.style.borderColor='';uz.style.background='';uz.innerHTML='<i class="fa-solid fa-check-circle" style="color:var(--green);font-size:32px;display:block;margin-bottom:8px"></i><div style="font-size:15px;font-weight:600;color:var(--green)">Arquivo(s) recebido(s) com sucesso!</div>';setTimeout(()=>{uz.innerHTML='<i class="fa-solid fa-cloud-arrow-up"></i><div style="font-size:15px;font-weight:600;margin-bottom:4px">Arraste arquivos aqui ou clique para enviar</div><div style="font-size:12px">NF-e XML, Extratos, Comprovantes, Guias, Contratos ‚Ä¢ M√°x. 25MB</div>'},2500)});
</script>
</body>
</html>