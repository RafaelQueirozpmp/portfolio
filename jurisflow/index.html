<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JurisFlow â€” GestÃ£o JurÃ­dica Inteligente</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
<style>
  /* ============================================================
     RESET & BASE
  ============================================================ */
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
  :root {
    --navy:        #1B2A4A;
    --navy-dark:   #111D33;
    --navy-mid:    #243352;
    --navy-light:  #2E4070;
    --gold:        #C9A96E;
    --gold-light:  #E0C490;
    --gold-dark:   #A8834A;
    --white:       #FFFFFF;
    --gray-50:     #F8F9FC;
    --gray-100:    #EEF0F5;
    --gray-200:    #DDE0EA;
    --gray-300:    #BEC3D0;
    --gray-400:    #9AA0B2;
    --gray-500:    #6B7280;
    --gray-600:    #4B5563;
    --gray-700:    #374151;
    --sidebar-w:   260px;
    --topbar-h:    64px;
    --bottomnav-h: 64px;
    --radius-sm:   6px;
    --radius-md:   12px;
    --radius-lg:   18px;
    --radius-xl:   24px;
    --shadow-sm:   0 1px 3px rgba(0,0,0,.08), 0 1px 2px rgba(0,0,0,.06);
    --shadow-md:   0 4px 12px rgba(0,0,0,.1);
    --shadow-lg:   0 8px 30px rgba(0,0,0,.14);
    --shadow-gold: 0 4px 16px rgba(201,169,110,.25);
    --transition:  .22s ease;
  }
  html { font-size: 16px; scroll-behavior: smooth; }
  body {
    font-family: 'Inter', sans-serif;
    background: var(--gray-50);
    color: var(--gray-700);
    min-height: 100vh;
    display: flex;
    overflow: hidden;
  }

  /* ============================================================
     SIDEBAR
  ============================================================ */
  .sidebar {
    width: var(--sidebar-w);
    min-height: 100vh;
    background: var(--navy-dark);
    display: flex;
    flex-direction: column;
    position: fixed;
    left: 0; top: 0; bottom: 0;
    z-index: 200;
    transition: transform var(--transition);
  }
  .sidebar-logo {
    padding: 28px 24px 20px;
    display: flex;
    align-items: center;
    gap: 12px;
    border-bottom: 1px solid rgba(255,255,255,.07);
  }
  .logo-icon {
    width: 38px; height: 38px;
    background: linear-gradient(135deg, var(--gold), var(--gold-dark));
    border-radius: var(--radius-sm);
    display: flex; align-items: center; justify-content: center;
    font-size: 18px; color: var(--white);
    box-shadow: var(--shadow-gold);
  }
  .logo-text .brand { font-family: 'Playfair Display', serif; font-size: 20px; font-weight: 700; color: var(--white); letter-spacing: .3px; }
  .logo-text .tagline { font-size: 10px; color: var(--gray-400); font-weight: 400; text-transform: uppercase; letter-spacing: 1px; }
  .sidebar-badge {
    margin: 12px 20px;
    background: rgba(201,169,110,.12);
    border: 1px solid rgba(201,169,110,.25);
    border-radius: 20px;
    padding: 5px 12px;
    font-size: 11px;
    color: var(--gold);
    text-align: center;
    font-weight: 500;
  }
  .sidebar-nav { flex: 1; padding: 8px 12px; overflow-y: auto; }
  .nav-section-label {
    font-size: 10px;
    font-weight: 600;
    color: var(--gray-400);
    text-transform: uppercase;
    letter-spacing: 1.2px;
    padding: 16px 12px 6px;
  }
  .nav-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 11px 14px;
    border-radius: var(--radius-sm);
    cursor: pointer;
    color: var(--gray-400);
    font-size: 14px;
    font-weight: 500;
    transition: all var(--transition);
    position: relative;
    user-select: none;
    margin-bottom: 2px;
  }
  .nav-item:hover { background: rgba(255,255,255,.06); color: var(--white); }
  .nav-item.active {
    background: rgba(201,169,110,.14);
    color: var(--gold);
  }
  .nav-item.active::before {
    content: '';
    position: absolute;
    left: 0; top: 6px; bottom: 6px;
    width: 3px;
    background: var(--gold);
    border-radius: 0 3px 3px 0;
  }
  .nav-item i { width: 20px; text-align: center; font-size: 15px; }
  .nav-badge {
    margin-left: auto;
    background: var(--gold);
    color: var(--navy-dark);
    font-size: 10px;
    font-weight: 700;
    padding: 2px 7px;
    border-radius: 10px;
    line-height: 1.4;
  }
  .sidebar-footer {
    padding: 16px;
    border-top: 1px solid rgba(255,255,255,.07);
  }
  .user-card {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 12px;
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: background var(--transition);
  }
  .user-card:hover { background: rgba(255,255,255,.06); }
  .user-avatar {
    width: 36px; height: 36px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--navy-light), var(--gold-dark));
    display: flex; align-items: center; justify-content: center;
    font-size: 14px; font-weight: 700; color: var(--white);
    flex-shrink: 0;
  }
  .user-info .user-name { font-size: 13px; font-weight: 600; color: var(--white); }
  .user-info .user-role { font-size: 11px; color: var(--gray-400); }

  /* ============================================================
     MAIN LAYOUT
  ============================================================ */
  .app-main {
    margin-left: var(--sidebar-w);
    flex: 1;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    max-height: 100vh;
    overflow: hidden;
  }
  .topbar {
    height: var(--topbar-h);
    background: var(--white);
    border-bottom: 1px solid var(--gray-200);
    display: flex;
    align-items: center;
    padding: 0 28px;
    gap: 16px;
    flex-shrink: 0;
    position: sticky; top: 0; z-index: 100;
    box-shadow: var(--shadow-sm);
  }
  .topbar-hamburger {
    display: none;
    background: none; border: none; cursor: pointer;
    font-size: 20px; color: var(--navy);
    padding: 4px;
  }
  .topbar-title { flex: 1; }
  .topbar-title h1 { font-family: 'Playfair Display', serif; font-size: 20px; font-weight: 600; color: var(--navy); }
  .topbar-title p { font-size: 12px; color: var(--gray-400); margin-top: 1px; }
  .topbar-actions { display: flex; align-items: center; gap: 10px; }
  .topbar-btn {
    width: 38px; height: 38px;
    border: 1px solid var(--gray-200);
    border-radius: var(--radius-sm);
    background: var(--white);
    cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    color: var(--gray-500);
    font-size: 15px;
    transition: all var(--transition);
    position: relative;
  }
  .topbar-btn:hover { border-color: var(--gold); color: var(--gold); }
  .notif-dot {
    position: absolute;
    top: 7px; right: 7px;
    width: 8px; height: 8px;
    background: #E84040;
    border-radius: 50%;
    border: 2px solid var(--white);
  }
  .btn-cta {
    background: linear-gradient(135deg, var(--gold), var(--gold-dark));
    color: var(--white);
    border: none;
    border-radius: var(--radius-sm);
    padding: 9px 18px;
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition);
    box-shadow: var(--shadow-gold);
    display: flex; align-items: center; gap: 7px;
    white-space: nowrap;
  }
  .btn-cta:hover { filter: brightness(1.08); box-shadow: 0 6px 20px rgba(201,169,110,.4); transform: translateY(-1px); }
  .content-area {
    flex: 1;
    overflow-y: auto;
    padding: 28px;
    scroll-behavior: smooth;
  }

  /* ============================================================
     SCREENS
  ============================================================ */
  .screen { display: none; animation: fadeIn .3s ease; }
  .screen.active { display: block; }
  @keyframes fadeIn { from { opacity:0; transform: translateY(8px); } to { opacity:1; transform: translateY(0); } }

  /* ============================================================
     KPI CARDS
  ============================================================ */
  .kpi-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 18px;
    margin-bottom: 28px;
  }
  .kpi-card {
    background: var(--white);
    border-radius: var(--radius-md);
    padding: 22px 20px;
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--gray-100);
    position: relative;
    overflow: hidden;
    transition: box-shadow var(--transition), transform var(--transition);
    cursor: default;
  }
  .kpi-card:hover { box-shadow: var(--shadow-md); transform: translateY(-2px); }
  .kpi-card::after {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 3px;
  }
  .kpi-card.kpi-blue::after   { background: var(--navy); }
  .kpi-card.kpi-gold::after   { background: var(--gold); }
  .kpi-card.kpi-green::after  { background: #2ECC71; }
  .kpi-card.kpi-red::after    { background: #E74C3C; }
  .kpi-icon {
    width: 44px; height: 44px;
    border-radius: var(--radius-sm);
    display: flex; align-items: center; justify-content: center;
    font-size: 18px;
    margin-bottom: 14px;
  }
  .kpi-blue .kpi-icon  { background: rgba(27,42,74,.1);  color: var(--navy); }
  .kpi-gold .kpi-icon  { background: rgba(201,169,110,.12); color: var(--gold-dark); }
  .kpi-green .kpi-icon { background: rgba(46,204,113,.1); color: #27AE60; }
  .kpi-red .kpi-icon   { background: rgba(231,76,60,.1);  color: #C0392B; }
  .kpi-value { font-family: 'Playfair Display', serif; font-size: 30px; font-weight: 700; color: var(--navy); line-height: 1; }
  .kpi-label { font-size: 12px; color: var(--gray-400); font-weight: 500; margin-top: 4px; text-transform: uppercase; letter-spacing: .5px; }
  .kpi-trend { margin-top: 10px; font-size: 12px; font-weight: 500; display: flex; align-items: center; gap: 4px; }
  .trend-up   { color: #27AE60; }
  .trend-down { color: #C0392B; }
  .trend-neu  { color: var(--gray-400); }

  /* ============================================================
     SECTION HEADERS
  ============================================================ */
  .section-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 18px;
  }
  .section-title { font-family: 'Playfair Display', serif; font-size: 17px; font-weight: 600; color: var(--navy); }
  .section-subtitle { font-size: 12px; color: var(--gray-400); margin-top: 2px; }
  .btn-link { background: none; border: none; color: var(--gold); font-size: 13px; font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 5px; }
  .btn-link:hover { text-decoration: underline; }

  /* ============================================================
     CHART AREA
  ============================================================ */
  .charts-grid {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 20px;
    margin-bottom: 28px;
  }
  .chart-card {
    background: var(--white);
    border-radius: var(--radius-md);
    padding: 22px;
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--gray-100);
  }
  .chart-card canvas { max-height: 220px; }

  /* ============================================================
     RECENT ACTIVITIES TABLE
  ============================================================ */
  .activity-list { display: flex; flex-direction: column; gap: 0; }
  .activity-item {
    display: flex;
    align-items: center;
    gap: 14px;
    padding: 13px 0;
    border-bottom: 1px solid var(--gray-100);
  }
  .activity-item:last-child { border-bottom: none; }
  .activity-dot {
    width: 8px; height: 8px;
    border-radius: 50%;
    flex-shrink: 0;
  }
  .dot-blue  { background: var(--navy); }
  .dot-gold  { background: var(--gold); }
  .dot-green { background: #2ECC71; }
  .dot-red   { background: #E74C3C; }
  .dot-gray  { background: var(--gray-300); }
  .activity-content { flex: 1; }
  .activity-text { font-size: 13px; color: var(--gray-700); font-weight: 500; }
  .activity-meta { font-size: 11px; color: var(--gray-400); margin-top: 2px; }
  .activity-time { font-size: 11px; color: var(--gray-400); white-space: nowrap; }

  /* ============================================================
     PROCESSOS SCREEN
  ============================================================ */
  .filter-bar {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    margin-bottom: 20px;
    align-items: center;
  }
  .search-box {
    flex: 1;
    min-width: 220px;
    position: relative;
  }
  .search-box input {
    width: 100%;
    height: 40px;
    padding: 0 14px 0 38px;
    border: 1px solid var(--gray-200);
    border-radius: var(--radius-sm);
    font-size: 13px;
    color: var(--gray-700);
    background: var(--white);
    outline: none;
    transition: border-color var(--transition);
  }
  .search-box input:focus { border-color: var(--gold); }
  .search-box i { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: var(--gray-400); font-size: 13px; }
  .filter-select {
    height: 40px;
    padding: 0 14px;
    border: 1px solid var(--gray-200);
    border-radius: var(--radius-sm);
    font-size: 13px;
    color: var(--gray-700);
    background: var(--white);
    outline: none;
    cursor: pointer;
    transition: border-color var(--transition);
  }
  .filter-select:focus { border-color: var(--gold); }

  .processos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
    gap: 18px;
  }
  .processo-card {
    background: var(--white);
    border-radius: var(--radius-md);
    border: 1px solid var(--gray-100);
    box-shadow: var(--shadow-sm);
    overflow: hidden;
    transition: box-shadow var(--transition), transform var(--transition);
    cursor: pointer;
  }
  .processo-card:hover { box-shadow: var(--shadow-md); transform: translateY(-2px); }
  .processo-card-header {
    background: var(--navy);
    padding: 14px 18px;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  .processo-num {
    font-size: 12px;
    font-weight: 600;
    color: var(--gold);
    font-family: 'Inter', monospace;
    letter-spacing: .3px;
  }
  .status-badge {
    font-size: 10px;
    font-weight: 700;
    padding: 3px 9px;
    border-radius: 20px;
    text-transform: uppercase;
    letter-spacing: .5px;
  }
  .status-ativo    { background: rgba(46,204,113,.2);  color: #2ECC71; border: 1px solid rgba(46,204,113,.3); }
  .status-suspenso { background: rgba(243,156,18,.2);  color: #F39C12; border: 1px solid rgba(243,156,18,.3); }
  .status-arquivado{ background: rgba(155,89,182,.2);  color: #9B59B6; border: 1px solid rgba(155,89,182,.3); }
  .status-encerrado{ background: rgba(149,165,166,.2); color: #95A5A6; border: 1px solid rgba(149,165,166,.3); }
  .processo-card-body { padding: 16px 18px; }
  .processo-title { font-family: 'Playfair Display', serif; font-size: 15px; font-weight: 600; color: var(--navy); margin-bottom: 8px; line-height: 1.3; }
  .processo-meta { display: flex; flex-direction: column; gap: 5px; }
  .processo-meta-row { display: flex; gap: 6px; font-size: 12px; color: var(--gray-500); align-items: center; }
  .processo-meta-row i { width: 14px; color: var(--gold-dark); font-size: 11px; }
  .processo-card-footer {
    padding: 10px 18px 14px;
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
  }
  .fase-tag {
    font-size: 11px;
    font-weight: 600;
    padding: 3px 10px;
    border-radius: 20px;
    background: rgba(27,42,74,.07);
    color: var(--navy);
    border: 1px solid var(--gray-200);
  }
  .prazo-tag {
    font-size: 11px;
    font-weight: 600;
    padding: 3px 10px;
    border-radius: 20px;
    color: #C0392B;
    background: rgba(192,57,43,.08);
    border: 1px solid rgba(192,57,43,.2);
    margin-left: auto;
    display: flex; align-items: center; gap: 4px;
  }

  /* ============================================================
     AGENDA SCREEN
  ============================================================ */
  .agenda-layout {
    display: grid;
    grid-template-columns: 1fr 320px;
    gap: 22px;
  }
  .calendar-card {
    background: var(--white);
    border-radius: var(--radius-md);
    padding: 22px;
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--gray-100);
  }
  .cal-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 20px;
  }
  .cal-title { font-family: 'Playfair Display', serif; font-size: 18px; font-weight: 600; color: var(--navy); }
  .cal-nav { display: flex; gap: 6px; }
  .cal-nav-btn {
    width: 32px; height: 32px;
    border: 1px solid var(--gray-200);
    border-radius: var(--radius-sm);
    background: var(--white);
    cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    color: var(--gray-500);
    font-size: 13px;
    transition: all var(--transition);
  }
  .cal-nav-btn:hover { border-color: var(--gold); color: var(--gold); }
  .cal-weekdays {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    text-align: center;
    font-size: 11px;
    font-weight: 600;
    color: var(--gray-400);
    text-transform: uppercase;
    letter-spacing: .5px;
    margin-bottom: 8px;
  }
  .cal-days {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 4px;
  }
  .cal-day {
    aspect-ratio: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius-sm);
    font-size: 13px;
    cursor: pointer;
    position: relative;
    transition: all var(--transition);
    font-weight: 500;
    color: var(--gray-700);
  }
  .cal-day:hover { background: var(--gray-100); }
  .cal-day.today { background: var(--navy); color: var(--white); font-weight: 700; }
  .cal-day.has-event::after {
    content: '';
    position: absolute;
    bottom: 3px;
    width: 4px; height: 4px;
    border-radius: 50%;
    background: var(--gold);
  }
  .cal-day.today.has-event::after { background: var(--gold-light); }
  .cal-day.other-month { color: var(--gray-300); }
  .cal-day.selected { background: rgba(201,169,110,.15); color: var(--gold-dark); border: 1px solid var(--gold); }
  .events-sidebar { display: flex; flex-direction: column; gap: 16px; }
  .events-day-section {}
  .events-day-label { font-size: 12px; font-weight: 600; color: var(--gray-400); text-transform: uppercase; letter-spacing: .5px; margin-bottom: 10px; }
  .event-item {
    display: flex;
    gap: 12px;
    align-items: flex-start;
    padding: 12px 14px;
    background: var(--white);
    border-radius: var(--radius-sm);
    border: 1px solid var(--gray-100);
    box-shadow: var(--shadow-sm);
    border-left: 4px solid transparent;
    transition: box-shadow var(--transition);
    cursor: pointer;
    margin-bottom: 8px;
  }
  .event-item:hover { box-shadow: var(--shadow-md); }
  .event-item.ev-audiencia { border-left-color: var(--navy); }
  .event-item.ev-prazo     { border-left-color: #E74C3C; }
  .event-item.ev-reuniao   { border-left-color: var(--gold); }
  .event-item.ev-pericia   { border-left-color: #8E44AD; }
  .event-time { font-size: 12px; font-weight: 700; color: var(--navy); white-space: nowrap; min-width: 40px; }
  .event-content {}
  .event-title { font-size: 13px; font-weight: 600; color: var(--gray-700); }
  .event-desc  { font-size: 11px; color: var(--gray-400); margin-top: 2px; }
  .event-badge {
    font-size: 10px;
    font-weight: 700;
    padding: 2px 7px;
    border-radius: 10px;
    margin-left: auto;
    flex-shrink: 0;
    align-self: center;
  }
  .badge-audiencia { background: rgba(27,42,74,.1);  color: var(--navy); }
  .badge-prazo     { background: rgba(231,76,60,.1); color: #C0392B; }
  .badge-reuniao   { background: rgba(201,169,110,.12); color: var(--gold-dark); }
  .badge-pericia   { background: rgba(142,68,173,.1); color: #8E44AD; }

  /* ============================================================
     FINANCEIRO SCREEN
  ============================================================ */
  .fin-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 18px; margin-bottom: 28px; }
  .fin-card {
    background: var(--white);
    border-radius: var(--radius-md);
    padding: 22px;
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--gray-100);
    transition: box-shadow var(--transition);
  }
  .fin-card:hover { box-shadow: var(--shadow-md); }
  .fin-card-label { font-size: 12px; color: var(--gray-400); font-weight: 600; text-transform: uppercase; letter-spacing: .5px; margin-bottom: 8px; display: flex; align-items: center; gap: 6px; }
  .fin-card-value { font-family: 'Playfair Display', serif; font-size: 26px; font-weight: 700; color: var(--navy); }
  .fin-card-value.positive { color: #27AE60; }
  .fin-card-value.negative { color: #C0392B; }
  .fin-card-sub { font-size: 12px; color: var(--gray-400); margin-top: 6px; }
  .faturas-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 13px;
  }
  .faturas-table thead tr { border-bottom: 2px solid var(--gray-200); }
  .faturas-table th { padding: 10px 14px; text-align: left; font-size: 11px; font-weight: 600; color: var(--gray-400); text-transform: uppercase; letter-spacing: .5px; }
  .faturas-table td { padding: 13px 14px; border-bottom: 1px solid var(--gray-100); color: var(--gray-700); vertical-align: middle; }
  .faturas-table tr:last-child td { border-bottom: none; }
  .faturas-table tr:hover td { background: var(--gray-50); }
  .fatura-status {
    font-size: 11px;
    font-weight: 700;
    padding: 3px 10px;
    border-radius: 20px;
    text-transform: uppercase;
    letter-spacing: .3px;
  }
  .fatura-paga     { background: rgba(46,204,113,.1);  color: #27AE60; }
  .fatura-pendente { background: rgba(243,156,18,.1);  color: #E67E22; }
  .fatura-vencida  { background: rgba(231,76,60,.1);   color: #C0392B; }
  .fin-charts-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 28px; }

  /* ============================================================
     DOCUMENTOS SCREEN
  ============================================================ */
  .docs-layout { display: grid; grid-template-columns: 220px 1fr; gap: 22px; }
  .docs-sidebar {
    background: var(--white);
    border-radius: var(--radius-md);
    padding: 18px 12px;
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--gray-100);
    height: fit-content;
    position: sticky; top: 0;
  }
  .docs-sidebar-title { font-size: 12px; font-weight: 700; color: var(--gray-400); text-transform: uppercase; letter-spacing: .7px; padding: 4px 10px 12px; }
  .doc-cat-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 9px 10px;
    border-radius: var(--radius-sm);
    cursor: pointer;
    font-size: 13px;
    font-weight: 500;
    color: var(--gray-600);
    transition: all var(--transition);
    margin-bottom: 2px;
  }
  .doc-cat-item:hover { background: var(--gray-50); color: var(--navy); }
  .doc-cat-item.active { background: rgba(27,42,74,.07); color: var(--navy); font-weight: 600; }
  .doc-cat-item i { width: 18px; text-align: center; font-size: 13px; color: var(--gold-dark); }
  .doc-cat-count { margin-left: auto; font-size: 11px; color: var(--gray-400); font-weight: 600; }
  .docs-main {}
  .docs-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 16px;
    margin-bottom: 28px;
  }
  .doc-card {
    background: var(--white);
    border-radius: var(--radius-md);
    border: 1px solid var(--gray-100);
    box-shadow: var(--shadow-sm);
    overflow: hidden;
    cursor: pointer;
    transition: all var(--transition);
  }
  .doc-card:hover { box-shadow: var(--shadow-md); transform: translateY(-2px); border-color: var(--gold); }
  .doc-card-thumb {
    height: 110px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 40px;
  }
  .doc-thumb-pdf   { background: rgba(231,76,60,.07);  color: #C0392B; }
  .doc-thumb-word  { background: rgba(41,128,185,.07);  color: #2980B9; }
  .doc-thumb-sheet { background: rgba(39,174,96,.07);   color: #27AE60; }
  .doc-thumb-img   { background: rgba(155,89,182,.07);  color: #8E44AD; }
  .doc-card-body { padding: 12px 14px; }
  .doc-card-name { font-size: 13px; font-weight: 600; color: var(--navy); margin-bottom: 4px; line-height: 1.3; }
  .doc-card-meta { font-size: 11px; color: var(--gray-400); }
  .doc-card-footer {
    padding: 8px 14px;
    border-top: 1px solid var(--gray-100);
    display: flex; align-items: center; justify-content: space-between;
  }
  .doc-signed {
    font-size: 10px; font-weight: 700; color: #27AE60;
    background: rgba(39,174,96,.1);
    padding: 2px 8px;
    border-radius: 10px;
    display: flex; align-items: center; gap: 3px;
  }
  .doc-unsigned {
    font-size: 10px; font-weight: 700; color: var(--gray-400);
    background: var(--gray-100);
    padding: 2px 8px;
    border-radius: 10px;
  }
  .doc-actions { display: flex; gap: 6px; }
  .doc-action-btn {
    width: 26px; height: 26px;
    border: none; background: none; cursor: pointer;
    color: var(--gray-400);
    border-radius: var(--radius-sm);
    display: flex; align-items: center; justify-content: center;
    font-size: 12px;
    transition: all var(--transition);
  }
  .doc-action-btn:hover { background: var(--gray-100); color: var(--navy); }

  /* SIGN MODAL */
  .modal-overlay {
    position: fixed; inset: 0;
    background: rgba(0,0,0,.5);
    z-index: 1000;
    display: none;
    align-items: center;
    justify-content: center;
    padding: 20px;
    backdrop-filter: blur(4px);
  }
  .modal-overlay.open { display: flex; }
  .modal {
    background: var(--white);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-lg);
    padding: 32px;
    max-width: 480px;
    width: 100%;
    animation: modalIn .25s ease;
  }
  @keyframes modalIn { from { opacity:0; transform: scale(.95); } to { opacity:1; transform: scale(1); } }
  .modal-title { font-family: 'Playfair Display', serif; font-size: 20px; font-weight: 700; color: var(--navy); margin-bottom: 8px; }
  .modal-sub { font-size: 13px; color: var(--gray-500); margin-bottom: 24px; }
  .sign-canvas {
    width: 100%;
    height: 140px;
    border: 2px dashed var(--gray-200);
    border-radius: var(--radius-md);
    background: var(--gray-50);
    display: flex; align-items: center; justify-content: center;
    font-size: 13px; color: var(--gray-400);
    cursor: crosshair;
    margin-bottom: 16px;
    position: relative;
    overflow: hidden;
  }
  .sign-canvas-inner { width: 100%; height: 100%; }
  .modal-actions { display: flex; gap: 10px; justify-content: flex-end; }
  .btn-secondary {
    background: var(--gray-100);
    color: var(--gray-600);
    border: 1px solid var(--gray-200);
    border-radius: var(--radius-sm);
    padding: 9px 18px;
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition);
  }
  .btn-secondary:hover { background: var(--gray-200); }
  .btn-sign {
    background: linear-gradient(135deg, var(--navy), var(--navy-light));
    color: var(--white);
    border: none;
    border-radius: var(--radius-sm);
    padding: 9px 18px;
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition);
    display: flex; align-items: center; gap: 7px;
  }
  .btn-sign:hover { filter: brightness(1.1); }

  /* ============================================================
     CONFIGURAÃ‡Ã•ES SCREEN
  ============================================================ */
  .config-section { margin-bottom: 36px; }
  .config-section-title {
    font-family: 'Playfair Display', serif;
    font-size: 16px;
    font-weight: 600;
    color: var(--navy);
    margin-bottom: 16px;
    padding-bottom: 10px;
    border-bottom: 1px solid var(--gray-100);
    display: flex; align-items: center; gap: 8px;
  }
  .config-section-title i { color: var(--gold); }
  .planos-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }
  .plano-card {
    background: var(--white);
    border-radius: var(--radius-lg);
    border: 2px solid var(--gray-100);
    padding: 28px 22px;
    display: flex;
    flex-direction: column;
    position: relative;
    transition: all var(--transition);
    cursor: pointer;
  }
  .plano-card:hover { border-color: var(--gold); box-shadow: var(--shadow-md); transform: translateY(-2px); }
  .plano-card.popular {
    border-color: var(--gold);
    box-shadow: var(--shadow-gold);
  }
  .plano-popular-badge {
    position: absolute;
    top: -12px; left: 50%; transform: translateX(-50%);
    background: linear-gradient(135deg, var(--gold), var(--gold-dark));
    color: var(--white);
    font-size: 10px;
    font-weight: 700;
    padding: 3px 14px;
    border-radius: 20px;
    text-transform: uppercase;
    letter-spacing: .8px;
    white-space: nowrap;
  }
  .plano-name { font-size: 12px; font-weight: 700; color: var(--gray-400); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 4px; }
  .plano-price { font-family: 'Playfair Display', serif; font-size: 36px; font-weight: 700; color: var(--navy); line-height: 1; }
  .plano-price span { font-size: 14px; font-weight: 500; color: var(--gray-400); vertical-align: super; }
  .plano-price sub { font-size: 14px; font-weight: 500; color: var(--gray-400); vertical-align: bottom; }
  .plano-desc { font-size: 12px; color: var(--gray-400); margin: 8px 0 20px; }
  .plano-features { flex: 1; list-style: none; display: flex; flex-direction: column; gap: 10px; margin-bottom: 24px; }
  .plano-features li { font-size: 13px; color: var(--gray-600); display: flex; align-items: center; gap: 8px; }
  .plano-features li i { color: #27AE60; font-size: 12px; }
  .plano-features li.disabled { color: var(--gray-300); }
  .plano-features li.disabled i { color: var(--gray-300); }
  .btn-plano {
    border-radius: var(--radius-sm);
    padding: 11px;
    font-size: 14px;
    font-weight: 700;
    cursor: pointer;
    transition: all var(--transition);
    text-align: center;
    border: 2px solid var(--gray-200);
    background: var(--gray-50);
    color: var(--gray-600);
  }
  .btn-plano:hover { border-color: var(--navy); color: var(--navy); }
  .btn-plano.featured {
    background: linear-gradient(135deg, var(--gold), var(--gold-dark));
    border-color: var(--gold);
    color: var(--white);
    box-shadow: var(--shadow-gold);
  }
  .btn-plano.featured:hover { filter: brightness(1.08); }
  .config-form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
  .form-group { display: flex; flex-direction: column; gap: 6px; }
  .form-label { font-size: 12px; font-weight: 600; color: var(--gray-600); }
  .form-input {
    height: 40px;
    padding: 0 12px;
    border: 1px solid var(--gray-200);
    border-radius: var(--radius-sm);
    font-size: 13px;
    color: var(--gray-700);
    background: var(--white);
    outline: none;
    transition: border-color var(--transition);
    font-family: 'Inter', sans-serif;
  }
  .form-input:focus { border-color: var(--gold); box-shadow: 0 0 0 3px rgba(201,169,110,.1); }
  .toggle-switch {
    display: flex;
    align-items: center;
    gap: 10px;
    cursor: pointer;
  }
  .toggle {
    position: relative;
    width: 44px;
    height: 24px;
  }
  .toggle input { opacity: 0; width: 0; height: 0; }
  .toggle-slider {
    position: absolute;
    inset: 0;
    background: var(--gray-300);
    border-radius: 12px;
    transition: all var(--transition);
    cursor: pointer;
  }
  .toggle-slider::before {
    content: '';
    position: absolute;
    height: 18px; width: 18px;
    left: 3px; top: 3px;
    border-radius: 50%;
    background: var(--white);
    transition: all var(--transition);
    box-shadow: 0 1px 3px rgba(0,0,0,.2);
  }
  .toggle input:checked + .toggle-slider { background: var(--gold); }
  .toggle input:checked + .toggle-slider::before { transform: translateX(20px); }
  .toggle-label { font-size: 13px; color: var(--gray-700); font-weight: 500; }
  .notif-settings { display: flex; flex-direction: column; gap: 14px; }
  .notif-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px 16px;
    background: var(--white);
    border-radius: var(--radius-sm);
    border: 1px solid var(--gray-100);
  }
  .notif-row-info {}
  .notif-row-name { font-size: 13px; font-weight: 600; color: var(--gray-700); }
  .notif-row-desc { font-size: 11px; color: var(--gray-400); margin-top: 2px; }

  /* ============================================================
     BOTTOM NAV (MOBILE)
  ============================================================ */
  .bottom-nav {
    display: none;
    position: fixed;
    bottom: 0; left: 0; right: 0;
    height: var(--bottomnav-h);
    background: var(--white);
    border-top: 1px solid var(--gray-200);
    z-index: 200;
    box-shadow: 0 -4px 20px rgba(0,0,0,.08);
  }
  .bottom-nav-inner {
    display: flex;
    height: 100%;
  }
  .bottom-nav-item {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 3px;
    cursor: pointer;
    color: var(--gray-400);
    font-size: 10px;
    font-weight: 600;
    transition: color var(--transition);
    position: relative;
    user-select: none;
  }
  .bottom-nav-item i { font-size: 18px; }
  .bottom-nav-item.active { color: var(--navy); }
  .bottom-nav-item.active::before {
    content: '';
    position: absolute;
    top: 0; left: 25%; right: 25%;
    height: 2px;
    background: var(--gold);
    border-radius: 0 0 2px 2px;
  }

  /* ============================================================
     OVERLAY / MOBILE SIDEBAR
  ============================================================ */
  .sidebar-overlay {
    display: none;
    position: fixed; inset: 0;
    background: rgba(0,0,0,.5);
    z-index: 199;
  }

  /* ============================================================
     TOAST
  ============================================================ */
  .toast {
    position: fixed;
    bottom: 90px; right: 24px;
    background: var(--navy);
    color: var(--white);
    padding: 12px 20px;
    border-radius: var(--radius-sm);
    font-size: 13px;
    font-weight: 500;
    box-shadow: var(--shadow-lg);
    z-index: 9999;
    display: flex; align-items: center; gap: 10px;
    transform: translateY(20px);
    opacity: 0;
    transition: all .3s ease;
    pointer-events: none;
  }
  .toast.show { transform: translateY(0); opacity: 1; }
  .toast i { color: var(--gold); }

  /* ============================================================
     RESPONSIVE
  ============================================================ */
  @media (max-width: 1100px) {
    .kpi-grid { grid-template-columns: repeat(2, 1fr); }
    .charts-grid { grid-template-columns: 1fr; }
    .fin-charts-grid { grid-template-columns: 1fr; }
    .agenda-layout { grid-template-columns: 1fr; }
    .planos-grid { grid-template-columns: 1fr; }
  }
  @media (max-width: 820px) {
    .sidebar { transform: translateX(-100%); z-index: 300; }
    .sidebar.open { transform: translateX(0); }
    .sidebar-overlay { display: none; }
    .sidebar-overlay.open { display: block; }
    .app-main { margin-left: 0; }
    .topbar-hamburger { display: flex; }
    .bottom-nav { display: flex; }
    .content-area { padding: 18px 14px 80px; }
    .processos-grid { grid-template-columns: 1fr; }
    .docs-layout { grid-template-columns: 1fr; }
    .fin-grid { grid-template-columns: 1fr; }
    .config-form-grid { grid-template-columns: 1fr; }
    .filter-bar { gap: 8px; }
    .filter-select { flex: 1; }
    .btn-cta span { display: none; }
    .topbar { padding: 0 14px; }
    .charts-grid { grid-template-columns: 1fr; }
  }
  @media (max-width: 480px) {
    .kpi-grid { grid-template-columns: 1fr 1fr; }
    .kpi-value { font-size: 24px; }
    .planos-grid { grid-template-columns: 1fr; }
  }

  /* ============================================================
     SCROLLBAR
  ============================================================ */
  ::-webkit-scrollbar { width: 6px; height: 6px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: var(--gray-200); border-radius: 3px; }
  ::-webkit-scrollbar-thumb:hover { background: var(--gray-300); }

  /* ============================================================
     UTILITY
  ============================================================ */
  .card {
    background: var(--white);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--gray-100);
  }
  .card-pad { padding: 22px; }
  .mt-0  { margin-top: 0; }
  .mb-16 { margin-bottom: 16px; }
  .mb-20 { margin-bottom: 20px; }
  .mb-28 { margin-bottom: 28px; }
  .text-gold { color: var(--gold-dark); }
  .text-navy { color: var(--navy); }
  .text-green { color: #27AE60; }
  .text-red   { color: #C0392B; }
  .font-serif { font-family: 'Playfair Display', serif; }
  .flex { display: flex; }
  .items-center { align-items: center; }
  .justify-between { justify-content: space-between; }
  .gap-8 { gap: 8px; }
  .gap-12 { gap: 12px; }
  .fw-600 { font-weight: 600; }
  .fw-700 { font-weight: 700; }
  .fs-12 { font-size: 12px; }
  .fs-13 { font-size: 13px; }
  .color-muted { color: var(--gray-400); }
</style>
</head>
<body>

<!-- ============================================================
     SIDEBAR
============================================================ -->
<aside class="sidebar" id="sidebar">
  <div class="sidebar-logo">
    <div class="logo-icon"><i class="fa-solid fa-scale-balanced"></i></div>
    <div class="logo-text">
      <div class="brand">JurisFlow</div>
      <div class="tagline">GestÃ£o JurÃ­dica</div>
    </div>
  </div>
  <div class="sidebar-badge">âœ¦ Plano Profissional</div>

  <nav class="sidebar-nav">
    <div class="nav-section-label">Principal</div>
    <div class="nav-item active" data-screen="dashboard">
      <i class="fa-solid fa-gauge-high"></i> Dashboard
    </div>
    <div class="nav-item" data-screen="processos">
      <i class="fa-solid fa-folder-open"></i> Processos
      <span class="nav-badge">12</span>
    </div>
    <div class="nav-item" data-screen="agenda">
      <i class="fa-solid fa-calendar-days"></i> Agenda
      <span class="nav-badge">3</span>
    </div>
    <div class="nav-section-label">Financeiro & Docs</div>
    <div class="nav-item" data-screen="financeiro">
      <i class="fa-solid fa-chart-line"></i> Financeiro
    </div>
    <div class="nav-item" data-screen="documentos">
      <i class="fa-solid fa-file-contract"></i> Documentos
    </div>
    <div class="nav-section-label">Sistema</div>
    <div class="nav-item" data-screen="configuracoes">
      <i class="fa-solid fa-gear"></i> ConfiguraÃ§Ãµes
    </div>
    <div class="nav-item">
      <i class="fa-solid fa-circle-question"></i> Suporte
    </div>
  </nav>

  <div class="sidebar-footer">
    <div class="user-card">
      <div class="user-avatar">DR</div>
      <div class="user-info">
        <div class="user-name">Dr. Rafael Moura</div>
        <div class="user-role">Advogado Titular</div>
      </div>
      <i class="fa-solid fa-ellipsis-vertical" style="color:var(--gray-400);margin-left:auto;font-size:13px;"></i>
    </div>
  </div>
</aside>

<!-- Sidebar overlay mobile -->
<div class="sidebar-overlay" id="sidebarOverlay" onclick="closeSidebar()"></div>

<!-- ============================================================
     MAIN
============================================================ -->
<main class="app-main">
  <!-- TOPBAR -->
  <header class="topbar">
    <button class="topbar-hamburger" onclick="toggleSidebar()">
      <i class="fa-solid fa-bars"></i>
    </button>
    <div class="topbar-title">
      <h1 id="pageTitle">Dashboard</h1>
      <p id="pageSubtitle">VisÃ£o geral â€” Fevereiro 2026</p>
    </div>
    <div class="topbar-actions">
      <button class="topbar-btn" title="Buscar"><i class="fa-solid fa-magnifying-glass"></i></button>
      <button class="topbar-btn" title="NotificaÃ§Ãµes">
        <i class="fa-solid fa-bell"></i>
        <span class="notif-dot"></span>
      </button>
      <button class="btn-cta" onclick="showToast('Novo processo criado com sucesso!')">
        <i class="fa-solid fa-plus"></i>
        <span>Novo Processo</span>
      </button>
    </div>
  </header>

  <!-- CONTENT AREA -->
  <div class="content-area" id="contentArea">

    <!-- ======================================================
         SCREEN 1 â€” DASHBOARD
    ====================================================== -->
    <section class="screen active" id="screen-dashboard">

      <!-- KPIs -->
      <div class="kpi-grid">
        <div class="kpi-card kpi-blue">
          <div class="kpi-icon"><i class="fa-solid fa-folder-open"></i></div>
          <div class="kpi-value">47</div>
          <div class="kpi-label">Processos Ativos</div>
          <div class="kpi-trend trend-up"><i class="fa-solid fa-arrow-trend-up"></i> +3 este mÃªs</div>
        </div>
        <div class="kpi-card kpi-gold">
          <div class="kpi-icon"><i class="fa-solid fa-gavel"></i></div>
          <div class="kpi-value">8</div>
          <div class="kpi-label">AudiÃªncias na Semana</div>
          <div class="kpi-trend trend-neu"><i class="fa-solid fa-minus"></i> Igual Ã  anterior</div>
        </div>
        <div class="kpi-card kpi-green">
          <div class="kpi-icon"><i class="fa-solid fa-circle-dollar-to-slot"></i></div>
          <div class="kpi-value">R$&nbsp;38k</div>
          <div class="kpi-label">HonorÃ¡rios Pendentes</div>
          <div class="kpi-trend trend-up"><i class="fa-solid fa-arrow-trend-up"></i> +R$12k vs mÃªs ant.</div>
        </div>
        <div class="kpi-card kpi-red">
          <div class="kpi-icon"><i class="fa-solid fa-triangle-exclamation"></i></div>
          <div class="kpi-value">5</div>
          <div class="kpi-label">Prazos Vencendo</div>
          <div class="kpi-trend trend-down"><i class="fa-solid fa-arrow-trend-up"></i> 2 em 48h</div>
        </div>
      </div>

      <!-- CHARTS -->
      <div class="charts-grid mb-28">
        <div class="chart-card">
          <div class="section-header mb-16">
            <div>
              <div class="section-title">Processos por MÃªs</div>
              <div class="section-subtitle">Entradas, encerramentos e liminar obtida</div>
            </div>
            <button class="btn-link">Ver relatÃ³rio <i class="fa-solid fa-arrow-right"></i></button>
          </div>
          <canvas id="chartProcessos"></canvas>
        </div>
        <div class="chart-card">
          <div class="section-header mb-16">
            <div>
              <div class="section-title">DistribuiÃ§Ã£o</div>
              <div class="section-subtitle">Por Ã¡rea jurÃ­dica</div>
            </div>
          </div>
          <canvas id="chartAreas"></canvas>
        </div>
      </div>

      <!-- BOTTOM ROW -->
      <div style="display:grid;grid-template-columns:1fr 340px;gap:20px;">
        <!-- Atividades recentes -->
        <div class="card card-pad">
          <div class="section-header mb-16">
            <div class="section-title">Atividades Recentes</div>
            <button class="btn-link">Ver todas <i class="fa-solid fa-arrow-right"></i></button>
          </div>
          <div class="activity-list">
            <div class="activity-item">
              <div class="activity-dot dot-blue"></div>
              <div class="activity-content">
                <div class="activity-text">PetiÃ§Ã£o protocolada â€” Proc. 0023891-45.2024.8.26.0100</div>
                <div class="activity-meta">Dr. Rafael Moura Â· Vara CÃ­vel 3Âª Â· TJ-SP</div>
              </div>
              <div class="activity-time">09:32</div>
            </div>
            <div class="activity-item">
              <div class="activity-dot dot-gold"></div>
              <div class="activity-content">
                <div class="activity-text">AudiÃªncia de InstruÃ§Ã£o agendada para 25/02/2026</div>
                <div class="activity-meta">Dra. Camila Souza Â· Proc. Trabalhista 0019234</div>
              </div>
              <div class="activity-time">08:15</div>
            </div>
            <div class="activity-item">
              <div class="activity-dot dot-green"></div>
              <div class="activity-content">
                <div class="activity-text">HonorÃ¡rios recebidos â€” R$ 8.500,00</div>
                <div class="activity-meta">Cliente: Construtora Alfa Ltda</div>
              </div>
              <div class="activity-time">Ontem</div>
            </div>
            <div class="activity-item">
              <div class="activity-dot dot-red"></div>
              <div class="activity-content">
                <div class="activity-text">âš  Prazo crÃ­tico: ContestaÃ§Ã£o atÃ© 22/02/2026</div>
                <div class="activity-meta">Proc. 0081234-12.2025.8.26.0050 Â· Vara CÃ­vel 7Âª</div>
              </div>
              <div class="activity-time">Ontem</div>
            </div>
            <div class="activity-item">
              <div class="activity-dot dot-gray"></div>
              <div class="activity-content">
                <div class="activity-text">Documento assinado digitalmente â€” Contrato PrestaÃ§Ã£o</div>
                <div class="activity-meta">JoÃ£o Pereira Neto Â· Assinatura ICP-Brasil simulada</div>
              </div>
              <div class="activity-time">20/02</div>
            </div>
            <div class="activity-item">
              <div class="activity-dot dot-blue"></div>
              <div class="activity-content">
                <div class="activity-text">DecisÃ£o favorÃ¡vel â€” Liminar concedida</div>
                <div class="activity-meta">Proc. 0034512-99.2026.8.26.0001 Â· TJ-SP</div>
              </div>
              <div class="activity-time">19/02</div>
            </div>
          </div>
        </div>

        <!-- Prazos urgentes -->
        <div style="display:flex;flex-direction:column;gap:16px;">
          <div class="card card-pad">
            <div class="section-header mb-16">
              <div class="section-title">Prazos Urgentes</div>
              <button class="btn-link" onclick="navigate('agenda')">Agenda <i class="fa-solid fa-arrow-right"></i></button>
            </div>
            <div style="display:flex;flex-direction:column;gap:10px;">
              <div style="background:rgba(231,76,60,.05);border:1px solid rgba(231,76,60,.15);border-radius:var(--radius-sm);padding:12px 14px;">
                <div style="font-size:11px;font-weight:700;color:#C0392B;text-transform:uppercase;letter-spacing:.5px;margin-bottom:4px;">âš¡ AmanhÃ£</div>
                <div style="font-size:13px;font-weight:600;color:var(--navy);">ContestaÃ§Ã£o â€” AÃ§Ã£o Trabalhista</div>
                <div style="font-size:11px;color:var(--gray-400);margin-top:3px;">Proc. 0019234-77.2025.5.02.0001</div>
              </div>
              <div style="background:rgba(243,156,18,.05);border:1px solid rgba(243,156,18,.15);border-radius:var(--radius-sm);padding:12px 14px;">
                <div style="font-size:11px;font-weight:700;color:#E67E22;text-transform:uppercase;letter-spacing:.5px;margin-bottom:4px;">ðŸ“‹ Em 3 dias</div>
                <div style="font-size:13px;font-weight:600;color:var(--navy);">RazÃµes de ApelaÃ§Ã£o â€” TJ-SP</div>
                <div style="font-size:11px;color:var(--gray-400);margin-top:3px;">Proc. 1010234-55.2024.8.26.0100</div>
              </div>
              <div style="background:rgba(27,42,74,.04);border:1px solid var(--gray-100);border-radius:var(--radius-sm);padding:12px 14px;">
                <div style="font-size:11px;font-weight:700;color:var(--navy);text-transform:uppercase;letter-spacing:.5px;margin-bottom:4px;">ðŸ“… Em 7 dias</div>
                <div style="font-size:13px;font-weight:600;color:var(--navy);">Memorial Final â€” Vara CÃ­vel</div>
                <div style="font-size:11px;color:var(--gray-400);margin-top:3px;">Proc. 0034512-99.2026.8.26.0001</div>
              </div>
            </div>
          </div>

          <div class="card card-pad">
            <div class="section-title mb-16" style="font-family:'Playfair Display',serif;font-size:15px;font-weight:600;color:var(--navy);margin-bottom:14px;">Performance</div>
            <canvas id="chartPerf" style="max-height:130px;"></canvas>
          </div>
        </div>
      </div>
    </section>

    <!-- ======================================================
         SCREEN 2 â€” PROCESSOS
    ====================================================== -->
    <section class="screen" id="screen-processos">
      <!-- Filter bar -->
      <div class="filter-bar">
        <div class="search-box">
          <i class="fa-solid fa-magnifying-glass"></i>
          <input type="text" placeholder="Buscar por nÃºmero CNJ, parte ou assunto..." oninput="filterProcessos(this.value)">
        </div>
        <select class="filter-select" onchange="filterProcessos()">
          <option value="">Todas as Varas</option>
          <option>Vara CÃ­vel 1Âª</option>
          <option>Vara CÃ­vel 3Âª</option>
          <option>Vara CÃ­vel 7Âª</option>
          <option>Vara Trabalhista</option>
          <option>Vara Federal</option>
        </select>
        <select class="filter-select" onchange="filterProcessos()">
          <option value="">Todos Tribunais</option>
          <option>TJ-SP</option>
          <option>TRT-2</option>
          <option>TRF-3</option>
          <option>STJ</option>
        </select>
        <select class="filter-select" onchange="filterProcessos()">
          <option value="">Todos os Status</option>
          <option>Ativo</option>
          <option>Suspenso</option>
          <option>Arquivado</option>
          <option>Encerrado</option>
        </select>
      </div>

      <div class="section-header mb-20">
        <div>
          <div class="section-title">Todos os Processos</div>
          <div class="section-subtitle" id="processosCount">47 processos encontrados</div>
        </div>
        <button class="btn-cta" onclick="showToast('Novo processo adicionado!')">
          <i class="fa-solid fa-plus"></i> Cadastrar
        </button>
      </div>

      <div class="processos-grid" id="processosGrid">
        <!-- Cards gerados via JS -->
      </div>
    </section>

    <!-- ======================================================
         SCREEN 3 â€” AGENDA
    ====================================================== -->
    <section class="screen" id="screen-agenda">
      <div class="agenda-layout">
        <!-- CalendÃ¡rio -->
        <div class="calendar-card">
          <div class="cal-header">
            <div class="cal-title" id="calMonthTitle">Fevereiro 2026</div>
            <div style="display:flex;align-items:center;gap:12px;">
              <div class="cal-nav">
                <button class="cal-nav-btn" onclick="changeMonth(-1)"><i class="fa-solid fa-chevron-left"></i></button>
                <button class="cal-nav-btn" onclick="changeMonth(1)"><i class="fa-solid fa-chevron-right"></i></button>
              </div>
              <button class="btn-cta" onclick="showToast('Novo compromisso criado!')" style="padding:7px 14px;font-size:12px;">
                <i class="fa-solid fa-plus"></i> Novo
              </button>
            </div>
          </div>
          <div class="cal-weekdays">
            <div>Dom</div><div>Seg</div><div>Ter</div>
            <div>Qua</div><div>Qui</div><div>Sex</div><div>SÃ¡b</div>
          </div>
          <div class="cal-days" id="calDays"></div>
          <!-- Legenda -->
          <div style="display:flex;gap:18px;flex-wrap:wrap;margin-top:18px;padding-top:14px;border-top:1px solid var(--gray-100);">
            <div style="display:flex;align-items:center;gap:6px;font-size:12px;color:var(--gray-500);">
              <div style="width:10px;height:10px;border-radius:2px;background:var(--navy);"></div> AudiÃªncia
            </div>
            <div style="display:flex;align-items:center;gap:6px;font-size:12px;color:var(--gray-500);">
              <div style="width:10px;height:10px;border-radius:2px;background:#E74C3C;"></div> Prazo
            </div>
            <div style="display:flex;align-items:center;gap:6px;font-size:12px;color:var(--gray-500);">
              <div style="width:10px;height:10px;border-radius:2px;background:var(--gold);"></div> ReuniÃ£o
            </div>
            <div style="display:flex;align-items:center;gap:6px;font-size:12px;color:var(--gray-500);">
              <div style="width:10px;height:10px;border-radius:2px;background:#8E44AD;"></div> PerÃ­cia
            </div>
          </div>
        </div>

        <!-- Eventos -->
        <div class="events-sidebar">
          <div style="background:var(--white);border-radius:var(--radius-md);padding:18px;box-shadow:var(--shadow-sm);border:1px solid var(--gray-100);">
            <div class="section-title" style="margin-bottom:14px;">PrÃ³ximos Eventos</div>

            <div class="events-day-label">Hoje â€” 21 Fev</div>
            <div class="event-item ev-reuniao">
              <div class="event-time">10:00</div>
              <div class="event-content">
                <div class="event-title">ReuniÃ£o com cliente</div>
                <div class="event-desc">JoÃ£o Pereira Neto Â· EscritÃ³rio</div>
              </div>
              <span class="event-badge badge-reuniao">ReuniÃ£o</span>
            </div>
            <div class="event-item ev-prazo">
              <div class="event-time">18:00</div>
              <div class="event-content">
                <div class="event-title">Prazo â€” ImpugnaÃ§Ã£o</div>
                <div class="event-desc">Proc. 0019234-77.2025.5</div>
              </div>
              <span class="event-badge badge-prazo">Prazo</span>
            </div>

            <div class="events-day-label" style="margin-top:16px;">AmanhÃ£ â€” 22 Fev</div>
            <div class="event-item ev-audiencia">
              <div class="event-time">09:00</div>
              <div class="event-content">
                <div class="event-title">AudiÃªncia de InstruÃ§Ã£o</div>
                <div class="event-desc">TJ-SP Â· FÃ³rum Lapa Â· Sala 12</div>
              </div>
              <span class="event-badge badge-audiencia">AudiÃªncia</span>
            </div>
            <div class="event-item ev-audiencia">
              <div class="event-time">14:30</div>
              <div class="event-content">
                <div class="event-title">AudiÃªncia Trabalhista</div>
                <div class="event-desc">TRT-2 Â· Vara 5Âª</div>
              </div>
              <span class="event-badge badge-audiencia">AudiÃªncia</span>
            </div>

            <div class="events-day-label" style="margin-top:16px;">24 Fev â€” Seg</div>
            <div class="event-item ev-pericia">
              <div class="event-time">11:00</div>
              <div class="event-content">
                <div class="event-title">PerÃ­cia MÃ©dica</div>
                <div class="event-desc">IMESC Â· Bela Vista</div>
              </div>
              <span class="event-badge badge-pericia">PerÃ­cia</span>
            </div>

            <div class="events-day-label" style="margin-top:16px;">25 Fev â€” Ter</div>
            <div class="event-item ev-audiencia">
              <div class="event-time">08:30</div>
              <div class="event-content">
                <div class="event-title">AudiÃªncia de ConciliaÃ§Ã£o</div>
                <div class="event-desc">CEJUSC Â· Santo AndrÃ©</div>
              </div>
              <span class="event-badge badge-audiencia">AudiÃªncia</span>
            </div>
            <div class="event-item ev-prazo">
              <div class="event-time">23:59</div>
              <div class="event-content">
                <div class="event-title">Prazo â€” RazÃµes de ApelaÃ§Ã£o</div>
                <div class="event-desc">TJ-SP Â· Proc. 1010234-55</div>
              </div>
              <span class="event-badge badge-prazo">Prazo</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ======================================================
         SCREEN 4 â€” FINANCEIRO
    ====================================================== -->
    <section class="screen" id="screen-financeiro">
      <!-- SumÃ¡rio financeiro -->
      <div class="fin-grid">
        <div class="fin-card">
          <div class="fin-card-label"><i class="fa-solid fa-arrow-down" style="color:#27AE60;"></i> Receita do MÃªs</div>
          <div class="fin-card-value positive">R$ 52.400</div>
          <div class="fin-card-sub">â†‘ 18% vs janeiro 2026</div>
        </div>
        <div class="fin-card">
          <div class="fin-card-label"><i class="fa-solid fa-arrow-up" style="color:#C0392B;"></i> Despesas do MÃªs</div>
          <div class="fin-card-value negative">R$ 14.230</div>
          <div class="fin-card-sub">â†“ 5% vs janeiro 2026</div>
        </div>
        <div class="fin-card" style="background:var(--navy);border-color:var(--navy);">
          <div class="fin-card-label" style="color:rgba(255,255,255,.6);"><i class="fa-solid fa-sack-dollar" style="color:var(--gold);"></i> Lucro LÃ­quido</div>
          <div class="fin-card-value" style="color:var(--gold);">R$ 38.170</div>
          <div class="fin-card-sub" style="color:rgba(255,255,255,.5);">Margem: 72.8%</div>
        </div>
      </div>

      <!-- GrÃ¡ficos -->
      <div class="fin-charts-grid mb-28">
        <div class="chart-card">
          <div class="section-header mb-16">
            <div>
              <div class="section-title">Receita vs Despesa</div>
              <div class="section-subtitle">Ãšltimos 6 meses</div>
            </div>
          </div>
          <canvas id="chartFinanceiro"></canvas>
        </div>
        <div class="chart-card">
          <div class="section-header mb-16">
            <div>
              <div class="section-title">HonorÃ¡rios por Ãrea</div>
              <div class="section-subtitle">DistribuiÃ§Ã£o em 2026</div>
            </div>
          </div>
          <canvas id="chartHonorarios"></canvas>
        </div>
      </div>

      <!-- Tabela de faturas -->
      <div class="card card-pad">
        <div class="section-header mb-20">
          <div>
            <div class="section-title">Faturas e HonorÃ¡rios</div>
            <div class="section-subtitle">Ãšltimas 30 faturas emitidas</div>
          </div>
          <button class="btn-cta" onclick="showToast('Fatura gerada com sucesso!')" style="font-size:12px;padding:8px 14px;">
            <i class="fa-solid fa-plus"></i> Nova Fatura
          </button>
        </div>
        <div style="overflow-x:auto;">
          <table class="faturas-table">
            <thead>
              <tr>
                <th>NÂº Fatura</th>
                <th>Cliente</th>
                <th>Processo</th>
                <th>DescriÃ§Ã£o</th>
                <th>Valor</th>
                <th>Vencimento</th>
                <th>Status</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td style="font-family:monospace;font-weight:600;color:var(--navy);">#2026-018</td>
                <td style="font-weight:600;">Construtora Alfa Ltda</td>
                <td style="color:var(--gray-500);font-size:12px;">0023891-45.2024</td>
                <td>HonorÃ¡rios advocatÃ­cios â€” AÃ§Ã£o Civil</td>
                <td style="font-weight:700;color:var(--navy);">R$ 12.000</td>
                <td>28/02/2026</td>
                <td><span class="fatura-status fatura-pendente">Pendente</span></td>
                <td><button class="btn-link" onclick="showToast('CobranÃ§a enviada!')"><i class="fa-solid fa-paper-plane"></i></button></td>
              </tr>
              <tr>
                <td style="font-family:monospace;font-weight:600;color:var(--navy);">#2026-017</td>
                <td style="font-weight:600;">Maria da GraÃ§a Santos</td>
                <td style="color:var(--gray-500);font-size:12px;">0019234-77.2025</td>
                <td>HonorÃ¡rios â€” AÃ§Ã£o Trabalhista</td>
                <td style="font-weight:700;color:var(--navy);">R$ 8.500</td>
                <td>15/02/2026</td>
                <td><span class="fatura-status fatura-paga">Paga</span></td>
                <td><button class="btn-link" onclick="showToast('Recibo baixado!')"><i class="fa-solid fa-download"></i></button></td>
              </tr>
              <tr>
                <td style="font-family:monospace;font-weight:600;color:var(--navy);">#2026-016</td>
                <td style="font-weight:600;">Roberto Carvalho ME</td>
                <td style="color:var(--gray-500);font-size:12px;">0081234-12.2025</td>
                <td>Consultoria SocietÃ¡ria + Contrato</td>
                <td style="font-weight:700;color:var(--navy);">R$ 6.800</td>
                <td>10/02/2026</td>
                <td><span class="fatura-status fatura-vencida">Vencida</span></td>
                <td><button class="btn-link" onclick="showToast('NotificaÃ§Ã£o enviada!')"><i class="fa-solid fa-triangle-exclamation"></i></button></td>
              </tr>
              <tr>
                <td style="font-family:monospace;font-weight:600;color:var(--navy);">#2026-015</td>
                <td style="font-weight:600;">Tech Solutions EIRELI</td>
                <td style="color:var(--gray-500);font-size:12px;">1010234-55.2024</td>
                <td>HonorÃ¡rios â€” Propriedade Intelectual</td>
                <td style="font-weight:700;color:var(--navy);">R$ 15.000</td>
                <td>05/02/2026</td>
                <td><span class="fatura-status fatura-paga">Paga</span></td>
                <td><button class="btn-link" onclick="showToast('Recibo baixado!')"><i class="fa-solid fa-download"></i></button></td>
              </tr>
              <tr>
                <td style="font-family:monospace;font-weight:600;color:var(--navy);">#2026-014</td>
                <td style="font-weight:600;">ClÃ­nica SaÃºde Total Ltda</td>
                <td style="color:var(--gray-500);font-size:12px;">0034512-99.2026</td>
                <td>Defesa em AÃ§Ã£o de Responsabilidade MÃ©dica</td>
                <td style="font-weight:700;color:var(--navy);">R$ 22.000</td>
                <td>01/03/2026</td>
                <td><span class="fatura-status fatura-pendente">Pendente</span></td>
                <td><button class="btn-link" onclick="showToast('CobranÃ§a enviada!')"><i class="fa-solid fa-paper-plane"></i></button></td>
              </tr>
              <tr>
                <td style="font-family:monospace;font-weight:600;color:var(--navy);">#2026-013</td>
                <td style="font-weight:600;">Paulo Henrique Ãvila</td>
                <td style="color:var(--gray-500);font-size:12px;">0067812-33.2025</td>
                <td>HonorÃ¡rios â€” DivÃ³rcio Consensual</td>
                <td style="font-weight:700;color:var(--navy);">R$ 4.200</td>
                <td>20/01/2026</td>
                <td><span class="fatura-status fatura-paga">Paga</span></td>
                <td><button class="btn-link" onclick="showToast('Recibo baixado!')"><i class="fa-solid fa-download"></i></button></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- ======================================================
         SCREEN 5 â€” DOCUMENTOS
    ====================================================== -->
    <section class="screen" id="screen-documentos">
      <div class="docs-layout">
        <!-- Sidebar Categorias -->
        <aside class="docs-sidebar">
          <div class="docs-sidebar-title">Categorias</div>
          <div class="doc-cat-item active" onclick="setDocCat(this)">
            <i class="fa-solid fa-layer-group"></i> Todos
            <span class="doc-cat-count">34</span>
          </div>
          <div class="doc-cat-item" onclick="setDocCat(this)">
            <i class="fa-solid fa-file-contract"></i> Contratos
            <span class="doc-cat-count">12</span>
          </div>
          <div class="doc-cat-item" onclick="setDocCat(this)">
            <i class="fa-solid fa-file-signature"></i> PetiÃ§Ãµes
            <span class="doc-cat-count">8</span>
          </div>
          <div class="doc-cat-item" onclick="setDocCat(this)">
            <i class="fa-solid fa-gavel"></i> DecisÃµes
            <span class="doc-cat-count">6</span>
          </div>
          <div class="doc-cat-item" onclick="setDocCat(this)">
            <i class="fa-solid fa-clipboard-list"></i> ProcuraÃ§Ãµes
            <span class="doc-cat-count">4</span>
          </div>
          <div class="doc-cat-item" onclick="setDocCat(this)">
            <i class="fa-solid fa-file-invoice"></i> Faturas
            <span class="doc-cat-count">3</span>
          </div>
          <div class="doc-cat-item" onclick="setDocCat(this)">
            <i class="fa-solid fa-image"></i> Imagens / Provas
            <span class="doc-cat-count">1</span>
          </div>
          <div style="margin-top:20px;padding-top:16px;border-top:1px solid var(--gray-100);">
            <div style="background:rgba(27,42,74,.04);border-radius:var(--radius-sm);padding:14px 12px;font-size:12px;">
              <div style="font-weight:700;color:var(--navy);margin-bottom:4px;">Armazenamento</div>
              <div style="color:var(--gray-400);margin-bottom:8px;">2.8 GB de 5 GB usados</div>
              <div style="height:6px;background:var(--gray-200);border-radius:3px;">
                <div style="height:100%;width:56%;background:linear-gradient(90deg,var(--navy),var(--gold));border-radius:3px;"></div>
              </div>
              <div style="color:var(--gray-400);margin-top:4px;">56%</div>
            </div>
          </div>
        </aside>

        <!-- Grid documentos -->
        <div class="docs-main">
          <div class="section-header mb-20">
            <div>
              <div class="section-title">Documentos</div>
              <div class="section-subtitle">34 arquivos Â· Filtrado por: Todos</div>
            </div>
            <div style="display:flex;gap:10px;">
              <div class="search-box" style="min-width:180px;">
                <i class="fa-solid fa-magnifying-glass"></i>
                <input type="text" placeholder="Buscar documento...">
              </div>
              <button class="btn-cta" onclick="showToast('Upload iniciado!')" style="font-size:12px;padding:8px 14px;">
                <i class="fa-solid fa-upload"></i> Upload
              </button>
            </div>
          </div>

          <div class="docs-grid">
            <div class="doc-card" onclick="openSignModal('Contrato de PrestaÃ§Ã£o de ServiÃ§os AdvocatÃ­cios')">
              <div class="doc-card-thumb doc-thumb-pdf"><i class="fa-solid fa-file-pdf"></i></div>
              <div class="doc-card-body">
                <div class="doc-card-name">Contrato â€” Construtora Alfa</div>
                <div class="doc-card-meta">PDF Â· 245 KB Â· 15/02/2026</div>
              </div>
              <div class="doc-card-footer">
                <span class="doc-signed"><i class="fa-solid fa-check"></i> Assinado</span>
                <div class="doc-actions">
                  <button class="doc-action-btn" title="Visualizar" onclick="event.stopPropagation();showToast('Abrindo documento...')"><i class="fa-solid fa-eye"></i></button>
                  <button class="doc-action-btn" title="Download" onclick="event.stopPropagation();showToast('Download iniciado!')"><i class="fa-solid fa-download"></i></button>
                </div>
              </div>
            </div>

            <div class="doc-card" onclick="openSignModal('PetiÃ§Ã£o Inicial â€” AÃ§Ã£o de CobranÃ§a')">
              <div class="doc-card-thumb doc-thumb-word"><i class="fa-solid fa-file-word"></i></div>
              <div class="doc-card-body">
                <div class="doc-card-name">PetiÃ§Ã£o Inicial â€” CobranÃ§a</div>
                <div class="doc-card-meta">DOCX Â· 128 KB Â· 18/02/2026</div>
              </div>
              <div class="doc-card-footer">
                <span class="doc-unsigned">Pendente</span>
                <div class="doc-actions">
                  <button class="doc-action-btn" title="Assinar" onclick="event.stopPropagation();openSignModal('PetiÃ§Ã£o Inicial â€” AÃ§Ã£o de CobranÃ§a')"><i class="fa-solid fa-pen-nib"></i></button>
                  <button class="doc-action-btn" title="Download" onclick="event.stopPropagation();showToast('Download iniciado!')"><i class="fa-solid fa-download"></i></button>
                </div>
              </div>
            </div>

            <div class="doc-card" onclick="openSignModal('ProcuraÃ§Ã£o Ad Judicia â€” JoÃ£o Pereira Neto')">
              <div class="doc-card-thumb doc-thumb-pdf"><i class="fa-solid fa-file-pdf"></i></div>
              <div class="doc-card-body">
                <div class="doc-card-name">ProcuraÃ§Ã£o â€” JoÃ£o Pereira Neto</div>
                <div class="doc-card-meta">PDF Â· 89 KB Â· 10/02/2026</div>
              </div>
              <div class="doc-card-footer">
                <span class="doc-signed"><i class="fa-solid fa-check"></i> Assinado</span>
                <div class="doc-actions">
                  <button class="doc-action-btn" onclick="event.stopPropagation();showToast('Abrindo documento...')"><i class="fa-solid fa-eye"></i></button>
                  <button class="doc-action-btn" onclick="event.stopPropagation();showToast('Download iniciado!')"><i class="fa-solid fa-download"></i></button>
                </div>
              </div>
            </div>

            <div class="doc-card" onclick="openSignModal('ContestaÃ§Ã£o â€” Maria da GraÃ§a Santos')">
              <div class="doc-card-thumb doc-thumb-word"><i class="fa-solid fa-file-word"></i></div>
              <div class="doc-card-body">
                <div class="doc-card-name">ContestaÃ§Ã£o â€” Santos</div>
                <div class="doc-card-meta">DOCX Â· 310 KB Â· 20/02/2026</div>
              </div>
              <div class="doc-card-footer">
                <span class="doc-unsigned">Pendente</span>
                <div class="doc-actions">
                  <button class="doc-action-btn" onclick="event.stopPropagation();openSignModal('ContestaÃ§Ã£o â€” Maria da GraÃ§a Santos')"><i class="fa-solid fa-pen-nib"></i></button>
                  <button class="doc-action-btn" onclick="event.stopPropagation();showToast('Download iniciado!')"><i class="fa-solid fa-download"></i></button>
                </div>
              </div>
            </div>

            <div class="doc-card" onclick="openSignModal('Planilha de CÃ¡lculos Trabalhistas')">
              <div class="doc-card-thumb doc-thumb-sheet"><i class="fa-solid fa-file-excel"></i></div>
              <div class="doc-card-body">
                <div class="doc-card-name">CÃ¡lculos Trabalhistas</div>
                <div class="doc-card-meta">XLSX Â· 540 KB Â· 12/02/2026</div>
              </div>
              <div class="doc-card-footer">
                <span class="doc-signed"><i class="fa-solid fa-check"></i> Assinado</span>
                <div class="doc-actions">
                  <button class="doc-action-btn" onclick="event.stopPropagation();showToast('Abrindo documento...')"><i class="fa-solid fa-eye"></i></button>
                  <button class="doc-action-btn" onclick="event.stopPropagation();showToast('Download iniciado!')"><i class="fa-solid fa-download"></i></button>
                </div>
              </div>
            </div>

            <div class="doc-card" onclick="openSignModal('Laudo Pericial â€” PerÃ­cia MÃ©dica')">
              <div class="doc-card-thumb doc-thumb-img"><i class="fa-solid fa-file-image"></i></div>
              <div class="doc-card-body">
                <div class="doc-card-name">Laudo Pericial MÃ©dico</div>
                <div class="doc-card-meta">PDF Â· 1.2 MB Â· 08/02/2026</div>
              </div>
              <div class="doc-card-footer">
                <span class="doc-signed"><i class="fa-solid fa-check"></i> Assinado</span>
                <div class="doc-actions">
                  <button class="doc-action-btn" onclick="event.stopPropagation();showToast('Abrindo documento...')"><i class="fa-solid fa-eye"></i></button>
                  <button class="doc-action-btn" onclick="event.stopPropagation();showToast('Download iniciado!')"><i class="fa-solid fa-download"></i></button>
                </div>
              </div>
            </div>

            <div class="doc-card" onclick="openSignModal('RazÃµes de ApelaÃ§Ã£o â€” Roberto Carvalho')">
              <div class="doc-card-thumb doc-thumb-word"><i class="fa-solid fa-file-word"></i></div>
              <div class="doc-card-body">
                <div class="doc-card-name">RazÃµes de ApelaÃ§Ã£o</div>
                <div class="doc-card-meta">DOCX Â· 198 KB Â· 19/02/2026</div>
              </div>
              <div class="doc-card-footer">
                <span class="doc-unsigned">Pendente</span>
                <div class="doc-actions">
                  <button class="doc-action-btn" onclick="event.stopPropagation();openSignModal('RazÃµes de ApelaÃ§Ã£o')"><i class="fa-solid fa-pen-nib"></i></button>
                  <button class="doc-action-btn" onclick="event.stopPropagation();showToast('Download iniciado!')"><i class="fa-solid fa-download"></i></button>
                </div>
              </div>
            </div>

            <div class="doc-card" onclick="openSignModal('Acordo Extrajudicial â€” Tech Solutions')">
              <div class="doc-card-thumb doc-thumb-pdf"><i class="fa-solid fa-file-pdf"></i></div>
              <div class="doc-card-body">
                <div class="doc-card-name">Acordo Extrajudicial</div>
                <div class="doc-card-meta">PDF Â· 167 KB Â· 17/02/2026</div>
              </div>
              <div class="doc-card-footer">
                <span class="doc-signed"><i class="fa-solid fa-check"></i> Assinado</span>
                <div class="doc-actions">
                  <button class="doc-action-btn" onclick="event.stopPropagation();showToast('Abrindo documento...')"><i class="fa-solid fa-eye"></i></button>
                  <button class="doc-action-btn" onclick="event.stopPropagation();showToast('Download iniciado!')"><i class="fa-solid fa-download"></i></button>
                </div>
              </div>
            </div>
          </div>

          <!-- Upload drop zone -->
          <div style="border:2px dashed var(--gray-200);border-radius:var(--radius-lg);padding:36px;text-align:center;cursor:pointer;transition:all var(--transition);"
               onmouseenter="this.style.borderColor='var(--gold)';this.style.background='rgba(201,169,110,.04)'"
               onmouseleave="this.style.borderColor='var(--gray-200)';this.style.background=''"
               onclick="showToast('Arraste arquivos ou clique para selecionar.')">
            <i class="fa-solid fa-cloud-arrow-up" style="font-size:36px;color:var(--gray-300);margin-bottom:12px;display:block;"></i>
            <div style="font-size:15px;font-weight:600;color:var(--gray-500);">Arraste arquivos aqui</div>
            <div style="font-size:13px;color:var(--gray-400);margin-top:4px;">ou clique para selecionar â€” PDF, DOCX, XLSX, JPG, PNG</div>
          </div>
        </div>
      </div>
    </section>

    <!-- ======================================================
         SCREEN 6 â€” CONFIGURAÃ‡Ã•ES
    ====================================================== -->
    <section class="screen" id="screen-configuracoes">
      <!-- Planos -->
      <div class="config-section">
        <div class="config-section-title"><i class="fa-solid fa-star"></i> Planos & Assinatura</div>
        <div class="planos-grid">
          <!-- Essencial -->
          <div class="plano-card">
            <div class="plano-name">Essencial</div>
            <div class="plano-price"><span>R$</span>99<sub>/mÃªs</sub></div>
            <div class="plano-desc">Para advogados autÃ´nomos iniciando sua organizaÃ§Ã£o digital.</div>
            <ul class="plano-features">
              <li><i class="fa-solid fa-check-circle"></i> AtÃ© 30 processos ativos</li>
              <li><i class="fa-solid fa-check-circle"></i> Agenda e prazos</li>
              <li><i class="fa-solid fa-check-circle"></i> 2 GB de documentos</li>
              <li><i class="fa-solid fa-check-circle"></i> RelatÃ³rios bÃ¡sicos</li>
              <li><i class="fa-solid fa-check-circle"></i> Suporte por e-mail</li>
              <li class="disabled"><i class="fa-solid fa-times-circle"></i> MÃ³dulo financeiro avanÃ§ado</li>
              <li class="disabled"><i class="fa-solid fa-times-circle"></i> Assinatura digital</li>
              <li class="disabled"><i class="fa-solid fa-times-circle"></i> Multi-usuÃ¡rios</li>
            </ul>
            <button class="btn-plano" onclick="showToast('Plano Essencial selecionado!')">Selecionar Plano</button>
          </div>

          <!-- Profissional (popular) -->
          <div class="plano-card popular">
            <div class="plano-popular-badge">â­ Mais Popular</div>
            <div class="plano-name">Profissional</div>
            <div class="plano-price"><span>R$</span>199<sub>/mÃªs</sub></div>
            <div class="plano-desc">Para advogados e escritÃ³rios de pequeno porte. <strong style="color:var(--gold-dark);">Plano atual.</strong></div>
            <ul class="plano-features">
              <li><i class="fa-solid fa-check-circle"></i> Processos ilimitados</li>
              <li><i class="fa-solid fa-check-circle"></i> Agenda avanÃ§ada + alertas</li>
              <li><i class="fa-solid fa-check-circle"></i> 5 GB de documentos</li>
              <li><i class="fa-solid fa-check-circle"></i> MÃ³dulo financeiro completo</li>
              <li><i class="fa-solid fa-check-circle"></i> Assinatura digital ICP-Brasil</li>
              <li><i class="fa-solid fa-check-circle"></i> RelatÃ³rios avanÃ§ados + Chart</li>
              <li><i class="fa-solid fa-check-circle"></i> AtÃ© 3 usuÃ¡rios</li>
              <li class="disabled"><i class="fa-solid fa-times-circle"></i> API de integraÃ§Ã£o</li>
            </ul>
            <button class="btn-plano featured" onclick="showToast('VocÃª jÃ¡ estÃ¡ no plano Profissional!')">âœ“ Plano Ativo</button>
          </div>

          <!-- Enterprise -->
          <div class="plano-card">
            <div class="plano-name">Enterprise</div>
            <div class="plano-price"><span>R$</span>349<sub>/mÃªs</sub></div>
            <div class="plano-desc">Para escritÃ³rios de mÃ©dio e grande porte com mÃºltiplos advogados.</div>
            <ul class="plano-features">
              <li><i class="fa-solid fa-check-circle"></i> Tudo do Profissional</li>
              <li><i class="fa-solid fa-check-circle"></i> UsuÃ¡rios ilimitados</li>
              <li><i class="fa-solid fa-check-circle"></i> 50 GB de documentos</li>
              <li><i class="fa-solid fa-check-circle"></i> API REST de integraÃ§Ã£o</li>
              <li><i class="fa-solid fa-check-circle"></i> Painel administrativo</li>
              <li><i class="fa-solid fa-check-circle"></i> Suporte prioritÃ¡rio 24/7</li>
              <li><i class="fa-solid fa-check-circle"></i> CustomizaÃ§Ã£o de marca</li>
              <li><i class="fa-solid fa-check-circle"></i> SLA garantido 99.9%</li>
            </ul>
            <button class="btn-plano" onclick="showToast('Em breve: contato do time enterprise!')">Falar com Vendas</button>
          </div>
        </div>
      </div>

      <!-- Perfil -->
      <div class="config-section">
        <div class="config-section-title"><i class="fa-solid fa-user-tie"></i> Perfil do EscritÃ³rio</div>
        <div class="card card-pad">
          <div class="config-form-grid">
            <div class="form-group">
              <label class="form-label">Nome completo</label>
              <input class="form-input" type="text" value="Dr. Rafael Moura">
            </div>
            <div class="form-group">
              <label class="form-label">NÃºmero OAB</label>
              <input class="form-input" type="text" value="SP 234.567">
            </div>
            <div class="form-group">
              <label class="form-label">E-mail profissional</label>
              <input class="form-input" type="email" value="rafael.moura@jurismo.adv.br">
            </div>
            <div class="form-group">
              <label class="form-label">Telefone / WhatsApp</label>
              <input class="form-input" type="tel" value="(11) 98765-4321">
            </div>
            <div class="form-group">
              <label class="form-label">Ãrea de atuaÃ§Ã£o principal</label>
              <input class="form-input" type="text" value="Direito Civil e Trabalhista">
            </div>
            <div class="form-group">
              <label class="form-label">EscritÃ³rio / Nome fantasia</label>
              <input class="form-input" type="text" value="Moura & Associados Advogados">
            </div>
          </div>
          <div style="margin-top:20px;display:flex;justify-content:flex-end;">
            <button class="btn-cta" onclick="showToast('Perfil atualizado com sucesso!')">
              <i class="fa-solid fa-save"></i> Salvar AlteraÃ§Ãµes
            </button>
          </div>
        </div>
      </div>

      <!-- NotificaÃ§Ãµes -->
      <div class="config-section">
        <div class="config-section-title"><i class="fa-solid fa-bell"></i> NotificaÃ§Ãµes</div>
        <div class="notif-settings">
          <div class="notif-row">
            <div class="notif-row-info">
              <div class="notif-row-name">Alertas de Prazo</div>
              <div class="notif-row-desc">NotificaÃ§Ãµes 48h, 24h e na hora do prazo</div>
            </div>
            <label class="toggle-switch">
              <div class="toggle"><input type="checkbox" checked><div class="toggle-slider"></div></div>
            </label>
          </div>
          <div class="notif-row">
            <div class="notif-row-info">
              <div class="notif-row-name">AudiÃªncias e Compromissos</div>
              <div class="notif-row-desc">Lembrete 2 horas antes do evento</div>
            </div>
            <label class="toggle-switch">
              <div class="toggle"><input type="checkbox" checked><div class="toggle-slider"></div></div>
            </label>
          </div>
          <div class="notif-row">
            <div class="notif-row-info">
              <div class="notif-row-name">Faturas Vencendo</div>
              <div class="notif-row-desc">Aviso 3 dias antes do vencimento</div>
            </div>
            <label class="toggle-switch">
              <div class="toggle"><input type="checkbox" checked><div class="toggle-slider"></div></div>
            </label>
          </div>
          <div class="notif-row">
            <div class="notif-row-info">
              <div class="notif-row-name">Resumo DiÃ¡rio por E-mail</div>
              <div class="notif-row-desc">Receba um e-mail com agenda do dia</div>
            </div>
            <label class="toggle-switch">
              <div class="toggle"><input type="checkbox"><div class="toggle-slider"></div></div>
            </label>
          </div>
          <div class="notif-row">
            <div class="notif-row-info">
              <div class="notif-row-name">RelatÃ³rio Semanal</div>
              <div class="notif-row-desc">Enviado toda segunda-feira Ã s 08:00</div>
            </div>
            <label class="toggle-switch">
              <div class="toggle"><input type="checkbox" checked><div class="toggle-slider"></div></div>
            </label>
          </div>
          <div class="notif-row">
            <div class="notif-row-info">
              <div class="notif-row-name">PublicaÃ§Ãµes do DiÃ¡rio Oficial</div>
              <div class="notif-row-desc">Monitoramento automÃ¡tico (beta)</div>
            </div>
            <label class="toggle-switch">
              <div class="toggle"><input type="checkbox" checked><div class="toggle-slider"></div></div>
            </label>
          </div>
        </div>
      </div>

      <!-- SeguranÃ§a -->
      <div class="config-section">
        <div class="config-section-title"><i class="fa-solid fa-shield-halved"></i> SeguranÃ§a & Acesso</div>
        <div class="card card-pad">
          <div class="config-form-grid">
            <div class="form-group">
              <label class="form-label">Senha atual</label>
              <input class="form-input" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
            </div>
            <div class="form-group">
              <label class="form-label">Nova senha</label>
              <input class="form-input" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
            </div>
          </div>
          <div style="margin-top:16px;">
            <div class="notif-row">
              <div class="notif-row-info">
                <div class="notif-row-name">AutenticaÃ§Ã£o em 2 fatores (2FA)</div>
                <div class="notif-row-desc">Google Authenticator ou SMS</div>
              </div>
              <label class="toggle-switch">
                <div class="toggle"><input type="checkbox" checked><div class="toggle-slider"></div></div>
              </label>
            </div>
          </div>
          <div style="margin-top:16px;display:flex;justify-content:flex-end;">
            <button class="btn-cta" onclick="showToast('Senha alterada com sucesso!')">
              <i class="fa-solid fa-lock"></i> Atualizar Senha
            </button>
          </div>
        </div>
      </div>
    </section>

  </div><!-- /content-area -->
</main>

<!-- ============================================================
     BOTTOM NAV (MOBILE)
============================================================ -->
<nav class="bottom-nav">
  <div class="bottom-nav-inner">
    <div class="bottom-nav-item active" data-screen="dashboard">
      <i class="fa-solid fa-gauge-high"></i><span>Dashboard</span>
    </div>
    <div class="bottom-nav-item" data-screen="processos">
      <i class="fa-solid fa-folder-open"></i><span>Processos</span>
    </div>
    <div class="bottom-nav-item" data-screen="agenda">
      <i class="fa-solid fa-calendar-days"></i><span>Agenda</span>
    </div>
    <div class="bottom-nav-item" data-screen="financeiro">
      <i class="fa-solid fa-chart-line"></i><span>Financeiro</span>
    </div>
    <div class="bottom-nav-item" data-screen="documentos">
      <i class="fa-solid fa-file-contract"></i><span>Docs</span>
    </div>
    <div class="bottom-nav-item" data-screen="configuracoes">
      <i class="fa-solid fa-gear"></i><span>Config</span>
    </div>
  </div>
</nav>

<!-- ============================================================
     MODAL â€” ASSINATURA DIGITAL
============================================================ -->
<div class="modal-overlay" id="signModal">
  <div class="modal">
    <div class="modal-title"><i class="fa-solid fa-pen-nib" style="color:var(--gold);margin-right:8px;"></i>Assinatura Digital</div>
    <div class="modal-sub" id="signModalDoc">Assine o documento com sua assinatura digital ICP-Brasil simulada.</div>

    <div style="margin-bottom:14px;">
      <div style="font-size:12px;font-weight:600;color:var(--gray-500);margin-bottom:8px;">Certificado Digital</div>
      <div style="display:flex;align-items:center;gap:10px;padding:10px 14px;background:var(--gray-50);border:1px solid var(--gray-200);border-radius:var(--radius-sm);">
        <i class="fa-solid fa-certificate" style="color:var(--gold);font-size:20px;"></i>
        <div>
          <div style="font-size:13px;font-weight:600;color:var(--navy);">Dr. Rafael Moura â€” OAB/SP 234.567</div>
          <div style="font-size:11px;color:var(--gray-400);">Certificado A3 Â· VÃ¡lido atÃ© 12/2027 Â· ICP-Brasil</div>
        </div>
        <i class="fa-solid fa-check-circle" style="color:#27AE60;margin-left:auto;font-size:18px;"></i>
      </div>
    </div>

    <div style="font-size:12px;font-weight:600;color:var(--gray-500);margin-bottom:8px;">Assinatura Manual (simulada)</div>
    <div class="sign-canvas" id="signCanvas">
      <canvas class="sign-canvas-inner" id="signPad" width="416" height="136"></canvas>
    </div>
    <div style="display:flex;gap:8px;margin-bottom:16px;">
      <button class="btn-secondary" style="font-size:12px;padding:6px 12px;" onclick="clearSignPad()">
        <i class="fa-solid fa-eraser"></i> Limpar
      </button>
      <div style="font-size:12px;color:var(--gray-400);display:flex;align-items:center;gap:4px;">
        <i class="fa-solid fa-info-circle"></i> Desenhe sua assinatura acima
      </div>
    </div>

    <div style="background:rgba(27,42,74,.04);border-radius:var(--radius-sm);padding:12px 14px;margin-bottom:20px;font-size:12px;color:var(--gray-500);">
      <i class="fa-solid fa-lock" style="color:var(--gold);margin-right:6px;"></i>
      Este documento serÃ¡ assinado com criptografia RSA-2048 e vinculado ao seu certificado ICP-Brasil. A assinatura terÃ¡ validade jurÃ­dica conforme MP 2.200-2/2001.
    </div>

    <div class="modal-actions">
      <button class="btn-secondary" onclick="closeSignModal()">Cancelar</button>
      <button class="btn-sign" onclick="confirmSign()">
        <i class="fa-solid fa-file-signature"></i> Assinar Documento
      </button>
    </div>
  </div>
</div>

<!-- Toast -->
<div class="toast" id="toast">
  <i class="fa-solid fa-check-circle"></i>
  <span id="toastMsg"></span>
</div>

<!-- ============================================================
     JAVASCRIPT
============================================================ -->
<script>
'use strict';

/* ============================================================
   NAVIGATION
============================================================ */
const PAGE_TITLES = {
  dashboard:     ['Dashboard', 'VisÃ£o geral â€” Fevereiro 2026'],
  processos:     ['Processos', '47 processos ativos em andamento'],
  agenda:        ['Agenda', 'Fevereiro 2026 â€” 8 compromissos esta semana'],
  financeiro:    ['Financeiro', 'Receitas, despesas e honorÃ¡rios'],
  documentos:    ['Documentos', '34 arquivos Â· 2.8 GB utilizados'],
  configuracoes: ['ConfiguraÃ§Ãµes', 'Planos, perfil e preferÃªncias'],
};

function navigate(screenId) {
  // Hide all screens
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.querySelectorAll('.nav-item, .bottom-nav-item').forEach(n => n.classList.remove('active'));

  // Show target
  const screen = document.getElementById('screen-' + screenId);
  if (screen) screen.classList.add('active');

  // Activate nav items
  document.querySelectorAll(`[data-screen="${screenId}"]`).forEach(n => n.classList.add('active'));

  // Update topbar
  const titles = PAGE_TITLES[screenId] || [screenId, ''];
  document.getElementById('pageTitle').textContent = titles[0];
  document.getElementById('pageSubtitle').textContent = titles[1];

  // Scroll content to top
  document.getElementById('contentArea').scrollTop = 0;

  // Lazy init charts for financial screen
  if (screenId === 'financeiro') initFinanceCharts();

  // Close mobile sidebar
  closeSidebar();
}

document.querySelectorAll('[data-screen]').forEach(el => {
  el.addEventListener('click', () => navigate(el.dataset.screen));
});

/* ============================================================
   SIDEBAR MOBILE
============================================================ */
function toggleSidebar() {
  document.getElementById('sidebar').classList.toggle('open');
  document.getElementById('sidebarOverlay').classList.toggle('open');
}
function closeSidebar() {
  document.getElementById('sidebar').classList.remove('open');
  document.getElementById('sidebarOverlay').classList.remove('open');
}

/* ============================================================
   TOAST
============================================================ */
let toastTimer = null;
function showToast(msg) {
  const toast = document.getElementById('toast');
  document.getElementById('toastMsg').textContent = msg;
  toast.classList.add('show');
  if (toastTimer) clearTimeout(toastTimer);
  toastTimer = setTimeout(() => toast.classList.remove('show'), 3200);
}

/* ============================================================
   PROCESSOS DATA
============================================================ */
const PROCESSOS_DATA = [
  {
    num: '0023891-45.2024.8.26.0100',
    title: 'AÃ§Ã£o de CobranÃ§a â€” Construtora Alfa Ltda',
    vara: 'Vara CÃ­vel 3Âª', tribunal: 'TJ-SP',
    status: 'ativo',
    parteAtiva: 'Construtora Alfa Ltda',
    partePassiva: 'Roberto Carvalho ME',
    advogado: 'Dr. Rafael Moura',
    fase: 'InstruÃ§Ã£o',
    prazo: '24/02/2026',
    valor: 'R$ 280.000',
  },
  {
    num: '0019234-77.2025.5.02.0001',
    title: 'ReclamaÃ§Ã£o Trabalhista â€” Maria da GraÃ§a Santos',
    vara: 'Vara Trabalhista', tribunal: 'TRT-2',
    status: 'ativo',
    parteAtiva: 'Maria da GraÃ§a Santos',
    partePassiva: 'MetalÃºrgica Primus S/A',
    advogado: 'Dra. Camila Souza',
    fase: 'Defesa',
    prazo: '22/02/2026',
    valor: 'R$ 65.000',
  },
  {
    num: '0081234-12.2025.8.26.0050',
    title: 'AÃ§Ã£o de RescisÃ£o Contratual',
    vara: 'Vara CÃ­vel 7Âª', tribunal: 'TJ-SP',
    status: 'ativo',
    parteAtiva: 'Paulo Henrique Ãvila',
    partePassiva: 'ImobiliÃ¡ria Praia Alta Ltda',
    advogado: 'Dr. Rafael Moura',
    fase: 'ContestaÃ§Ã£o',
    prazo: '26/02/2026',
    valor: 'R$ 120.000',
  },
  {
    num: '1010234-55.2024.8.26.0100',
    title: 'ApelaÃ§Ã£o CÃ­vel â€” Propriedade Intelectual',
    vara: 'CÃ¢mara CÃ­vel 14Âª', tribunal: 'TJ-SP',
    status: 'ativo',
    parteAtiva: 'Tech Solutions EIRELI',
    partePassiva: 'Inova Software Ltda',
    advogado: 'Dr. Rafael Moura',
    fase: 'Recursal',
    prazo: '25/02/2026',
    valor: 'R$ 95.000',
  },
  {
    num: '0034512-99.2026.8.26.0001',
    title: 'AÃ§Ã£o de Responsabilidade MÃ©dica',
    vara: 'Vara CÃ­vel 1Âª', tribunal: 'TJ-SP',
    status: 'ativo',
    parteAtiva: 'FamÃ­lia Rodrigues',
    partePassiva: 'ClÃ­nica SaÃºde Total Ltda',
    advogado: 'Dra. Camila Souza',
    fase: 'DilaÃ§Ã£o ProbatÃ³ria',
    prazo: '28/02/2026',
    valor: 'R$ 500.000',
  },
  {
    num: '0067812-33.2025.8.26.0200',
    title: 'DivÃ³rcio Litigioso â€” Guarda Compartilhada',
    vara: 'Vara de FamÃ­lia 2Âª', tribunal: 'TJ-SP',
    status: 'suspenso',
    parteAtiva: 'Paulo Henrique Ãvila',
    partePassiva: 'Fernanda Costa Ãvila',
    advogado: 'Dra. Camila Souza',
    fase: 'MediaÃ§Ã£o',
    prazo: 'â€”',
    valor: 'R$ 0',
  },
  {
    num: '0012345-88.2023.4.03.6100',
    title: 'Mandado de SeguranÃ§a â€” LicitaÃ§Ã£o PÃºblica',
    vara: 'Vara Federal 3Âª', tribunal: 'TRF-3',
    status: 'ativo',
    parteAtiva: 'ConsÃ³rcio Bravo & CIA',
    partePassiva: 'UniÃ£o Federal',
    advogado: 'Dr. Rafael Moura',
    fase: 'Liminar Concedida',
    prazo: '03/03/2026',
    valor: 'R$ 1.200.000',
  },
  {
    num: '0098765-11.2022.8.26.0100',
    title: 'ExecuÃ§Ã£o Fiscal â€” DÃ­vida TributÃ¡ria',
    vara: 'Vara de ExecuÃ§Ãµes Fiscais', tribunal: 'TJ-SP',
    status: 'arquivado',
    parteAtiva: 'MunicÃ­pio de SÃ£o Paulo',
    partePassiva: 'Distribuidora Beta Ltda',
    advogado: 'Dr. Rafael Moura',
    fase: 'Arquivado',
    prazo: 'â€”',
    valor: 'R$ 45.000',
  },
  {
    num: '0033445-21.2025.8.26.0070',
    title: 'AÃ§Ã£o de IndenizaÃ§Ã£o por Danos Morais',
    vara: 'Vara CÃ­vel 5Âª', tribunal: 'TJ-SP',
    status: 'ativo',
    parteAtiva: 'Julio CÃ©sar Fonseca',
    partePassiva: 'Banco RedenÃ§Ã£o S/A',
    advogado: 'Dr. Rafael Moura',
    fase: 'AudiÃªncia Marcada',
    prazo: '22/02/2026',
    valor: 'R$ 30.000',
  },
  {
    num: '0055123-44.2024.5.02.0060',
    title: 'AÃ§Ã£o de Horas Extras e Verbas RescisÃ³rias',
    vara: 'Vara Trabalhista 6Âª', tribunal: 'TRT-2',
    status: 'ativo',
    parteAtiva: 'Carla Mendes Ribeiro',
    partePassiva: 'Supermercados Prata Ltda',
    advogado: 'Dra. Camila Souza',
    fase: 'InstruÃ§Ã£o',
    prazo: '05/03/2026',
    valor: 'R$ 42.000',
  },
  {
    num: '0071892-66.2020.8.26.0100',
    title: 'UsucapiÃ£o Urbana â€” Terreno Central',
    vara: 'Vara de Registros PÃºblicos', tribunal: 'TJ-SP',
    status: 'encerrado',
    parteAtiva: 'Osvaldo Nascimento',
    partePassiva: 'EspÃ³lio de Joaquim Ramos',
    advogado: 'Dr. Rafael Moura',
    fase: 'Encerrado â€” Procedente',
    prazo: 'â€”',
    valor: 'R$ 0',
  },
  {
    num: '0088234-55.2025.8.26.0001',
    title: 'AÃ§Ã£o PossessÃ³ria â€” ReintegraÃ§Ã£o de Posse',
    vara: 'Vara CÃ­vel 2Âª', tribunal: 'TJ-SP',
    status: 'ativo',
    parteAtiva: 'Cooperativa Habitacional Horizonte',
    partePassiva: 'Ocupantes sem identificaÃ§Ã£o',
    advogado: 'Dr. Rafael Moura',
    fase: 'Liminar Deferida',
    prazo: '15/03/2026',
    valor: 'R$ 0',
  },
];

function renderProcessos(data) {
  const grid = document.getElementById('processosGrid');
  const count = document.getElementById('processosCount');
  if (!grid) return;
  count.textContent = data.length + ' processos encontrados';
  grid.innerHTML = data.map(p => {
    const statusMap = {
      ativo: 'status-ativo', suspenso: 'status-suspenso',
      arquivado: 'status-arquivado', encerrado: 'status-encerrado',
    };
    const statusLabel = {
      ativo: 'Ativo', suspenso: 'Suspenso',
      arquivado: 'Arquivado', encerrado: 'Encerrado',
    };
    const prazoHtml = p.prazo !== 'â€”'
      ? `<span class="prazo-tag"><i class="fa-solid fa-clock"></i> ${p.prazo}</span>`
      : '';
    return `
      <div class="processo-card" onclick="showToast('Abrindo processo ${p.num.slice(0,10)}...')">
        <div class="processo-card-header">
          <span class="processo-num">${p.num}</span>
          <span class="status-badge ${statusMap[p.status]}">${statusLabel[p.status]}</span>
        </div>
        <div class="processo-card-body">
          <div class="processo-title">${p.title}</div>
          <div class="processo-meta">
            <div class="processo-meta-row"><i class="fa-solid fa-building-columns"></i>${p.vara} Â· ${p.tribunal}</div>
            <div class="processo-meta-row"><i class="fa-solid fa-user-tie"></i>Autor: ${p.parteAtiva}</div>
            <div class="processo-meta-row"><i class="fa-solid fa-user-shield"></i>RÃ©u: ${p.partePassiva}</div>
            <div class="processo-meta-row"><i class="fa-solid fa-briefcase"></i>${p.advogado} Â· Valor: ${p.valor}</div>
          </div>
        </div>
        <div class="processo-card-footer">
          <span class="fase-tag">${p.fase}</span>
          ${prazoHtml}
        </div>
      </div>`;
  }).join('');
}

function filterProcessos(val) {
  renderProcessos(PROCESSOS_DATA);
}

/* ============================================================
   CALENDAR
============================================================ */
let currentMonth = 1; // 0-indexed; 1 = February
let currentYear = 2026;
const EVENT_DAYS = [4, 6, 10, 13, 17, 21, 22, 24, 25, 27];

function renderCalendar() {
  const monthNames = ['Janeiro','Fevereiro','MarÃ§o','Abril','Maio','Junho',
                      'Julho','Agosto','Setembro','Outubro','Novembro','Dezembro'];
  document.getElementById('calMonthTitle').textContent = monthNames[currentMonth] + ' ' + currentYear;

  const firstDay = new Date(currentYear, currentMonth, 1).getDay();
  const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
  const today = new Date();
  const isCurrentMonth = (today.getMonth() === currentMonth && today.getFullYear() === currentYear);
  const todayDate = today.getDate();

  const container = document.getElementById('calDays');
  if (!container) return;
  container.innerHTML = '';

  // Previous month trailing days
  for (let i = 0; i < firstDay; i++) {
    const d = document.createElement('div');
    d.className = 'cal-day other-month';
    const prevDays = new Date(currentYear, currentMonth, 0).getDate();
    d.textContent = prevDays - firstDay + i + 1;
    container.appendChild(d);
  }

  // Current month days
  for (let d = 1; d <= daysInMonth; d++) {
    const el = document.createElement('div');
    let cls = 'cal-day';
    if (isCurrentMonth && d === todayDate) cls += ' today';
    if (EVENT_DAYS.includes(d)) cls += ' has-event';
    el.className = cls;
    el.textContent = d;
    el.addEventListener('click', () => {
      document.querySelectorAll('.cal-day.selected').forEach(x => x.classList.remove('selected'));
      el.classList.add('selected');
    });
    container.appendChild(el);
  }

  // Next month leading days
  const totalCells = Math.ceil((firstDay + daysInMonth) / 7) * 7;
  for (let i = 1; i <= totalCells - firstDay - daysInMonth; i++) {
    const d = document.createElement('div');
    d.className = 'cal-day other-month';
    d.textContent = i;
    container.appendChild(d);
  }
}

function changeMonth(dir) {
  currentMonth += dir;
  if (currentMonth > 11) { currentMonth = 0; currentYear++; }
  if (currentMonth < 0)  { currentMonth = 11; currentYear--; }
  renderCalendar();
}

/* ============================================================
   CHARTS â€” DASHBOARD
============================================================ */
let chartsInitialized = false;
function initDashboardCharts() {
  if (chartsInitialized) return;
  chartsInitialized = true;

  // Processos por mÃªs
  const ctxP = document.getElementById('chartProcessos');
  if (ctxP) {
    new Chart(ctxP, {
      type: 'bar',
      data: {
        labels: ['Set','Out','Nov','Dez','Jan','Fev'],
        datasets: [
          {
            label: 'Novos processos',
            data: [7, 9, 6, 11, 8, 12],
            backgroundColor: 'rgba(27,42,74,0.85)',
            borderRadius: 6,
            barThickness: 22,
          },
          {
            label: 'Encerrados',
            data: [3, 4, 2, 5, 4, 3],
            backgroundColor: 'rgba(201,169,110,0.7)',
            borderRadius: 6,
            barThickness: 22,
          },
          {
            label: 'Liminar obtida',
            data: [1, 2, 1, 3, 1, 2],
            backgroundColor: 'rgba(46,204,113,0.6)',
            borderRadius: 6,
            barThickness: 22,
          },
        ]
      },
      options: {
        responsive: true,
        maintainAspectRatio: true,
        plugins: {
          legend: { position: 'bottom', labels: { font: { family:'Inter', size:11 }, padding:16 } },
          tooltip: { titleFont: { family:'Inter' }, bodyFont: { family:'Inter' } },
        },
        scales: {
          x: { grid: { display:false }, ticks: { font:{family:'Inter',size:11} } },
          y: { grid: { color:'rgba(0,0,0,.05)' }, ticks: { font:{family:'Inter',size:11} } }
        }
      }
    });
  }

  // DistribuiÃ§Ã£o por Ã¡rea
  const ctxA = document.getElementById('chartAreas');
  if (ctxA) {
    new Chart(ctxA, {
      type: 'doughnut',
      data: {
        labels: ['CÃ­vel','Trabalhista','FamÃ­lia','Federal','TributÃ¡rio'],
        datasets: [{
          data: [42, 28, 12, 10, 8],
          backgroundColor: [
            '#1B2A4A','#C9A96E','#2ECC71','#3498DB','#9B59B6'
          ],
          borderWidth: 0,
          hoverOffset: 8,
        }]
      },
      options: {
        responsive: true,
        cutout: '65%',
        plugins: {
          legend: {
            position: 'bottom',
            labels: { font:{family:'Inter',size:11}, padding:14, usePointStyle:true, pointStyleWidth:8 }
          },
        }
      }
    });
  }

  // Performance gauge (linha)
  const ctxPerf = document.getElementById('chartPerf');
  if (ctxPerf) {
    new Chart(ctxPerf, {
      type: 'line',
      data: {
        labels: ['Set','Out','Nov','Dez','Jan','Fev'],
        datasets: [{
          label: 'Taxa de Ãªxito (%)',
          data: [68, 72, 70, 78, 75, 82],
          borderColor: '#C9A96E',
          backgroundColor: 'rgba(201,169,110,0.12)',
          borderWidth: 2.5,
          fill: true,
          tension: 0.4,
          pointBackgroundColor: '#C9A96E',
          pointRadius: 4,
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: true,
        plugins: {
          legend: { display:false },
          tooltip: { titleFont:{family:'Inter'}, bodyFont:{family:'Inter'} },
        },
        scales: {
          x: { grid:{display:false}, ticks:{font:{family:'Inter',size:10}} },
          y: { min:50, max:100, grid:{color:'rgba(0,0,0,.05)'}, ticks:{font:{family:'Inter',size:10}, callback: v => v+'%'} }
        }
      }
    });
  }
}

/* ============================================================
   CHARTS â€” FINANCEIRO
============================================================ */
let finChartsInitialized = false;
function initFinanceCharts() {
  if (finChartsInitialized) return;
  finChartsInitialized = true;

  const ctxF = document.getElementById('chartFinanceiro');
  if (ctxF) {
    new Chart(ctxF, {
      type: 'bar',
      data: {
        labels: ['Set','Out','Nov','Dez','Jan','Fev'],
        datasets: [
          {
            label: 'Receita',
            data: [38000, 44000, 31000, 52000, 44500, 52400],
            backgroundColor: 'rgba(46,204,113,0.8)',
            borderRadius: 6,
            barThickness: 28,
          },
          {
            label: 'Despesas',
            data: [12000, 15500, 11000, 18000, 14900, 14230],
            backgroundColor: 'rgba(231,76,60,0.7)',
            borderRadius: 6,
            barThickness: 28,
          }
        ]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { position:'bottom', labels:{ font:{family:'Inter',size:11}, padding:16 } },
          tooltip: {
            titleFont:{family:'Inter'},
            bodyFont:{family:'Inter'},
            callbacks: {
              label: ctx => 'R$ ' + ctx.raw.toLocaleString('pt-BR')
            }
          }
        },
        scales: {
          x: { grid:{display:false}, ticks:{font:{family:'Inter',size:11}} },
          y: { grid:{color:'rgba(0,0,0,.05)'}, ticks:{font:{family:'Inter',size:11}, callback: v => 'R$'+Math.round(v/1000)+'k'} }
        }
      }
    });
  }

  const ctxH = document.getElementById('chartHonorarios');
  if (ctxH) {
    new Chart(ctxH, {
      type: 'doughnut',
      data: {
        labels: ['CÃ­vel','Trabalhista','Empresarial','FamÃ­lia','TributÃ¡rio'],
        datasets: [{
          data: [35, 25, 20, 12, 8],
          backgroundColor: ['#1B2A4A','#C9A96E','#2ECC71','#3498DB','#E74C3C'],
          borderWidth: 0,
          hoverOffset: 8,
        }]
      },
      options: {
        responsive: true,
        cutout: '60%',
        plugins: {
          legend: {
            position: 'bottom',
            labels: { font:{family:'Inter',size:11}, padding:12, usePointStyle:true, pointStyleWidth:8 }
          },
          tooltip: {
            callbacks: { label: ctx => ctx.label + ': ' + ctx.raw + '%' }
          }
        }
      }
    });
  }
}

/* ============================================================
   DOCUMENTOS â€” CATEGORY FILTER
============================================================ */
function setDocCat(el) {
  document.querySelectorAll('.doc-cat-item').forEach(i => i.classList.remove('active'));
  el.classList.add('active');
  const cat = el.querySelector('i').nextSibling.textContent.trim().split('\n')[0].trim();
  showToast('Filtrando por: ' + cat);
}

/* ============================================================
   SIGN MODAL
============================================================ */
let signDocName = '';
let isDrawing = false;
let signCtx = null;
let lastX = 0, lastY = 0;

function openSignModal(docName) {
  signDocName = docName;
  document.getElementById('signModalDoc').textContent = 'Documento: "' + docName + '"';
  document.getElementById('signModal').classList.add('open');
  initSignPad();
}

function closeSignModal() {
  document.getElementById('signModal').classList.remove('open');
}

function initSignPad() {
  const canvas = document.getElementById('signPad');
  if (!canvas) return;
  signCtx = canvas.getContext('2d');
  signCtx.clearRect(0, 0, canvas.width, canvas.height);
  signCtx.strokeStyle = '#1B2A4A';
  signCtx.lineWidth = 2.5;
  signCtx.lineCap = 'round';
  signCtx.lineJoin = 'round';

  canvas.onmousedown = e => { isDrawing = true; [lastX, lastY] = getPos(e, canvas); };
  canvas.onmousemove = e => {
    if (!isDrawing) return;
    const [x, y] = getPos(e, canvas);
    signCtx.beginPath();
    signCtx.moveTo(lastX, lastY);
    signCtx.lineTo(x, y);
    signCtx.stroke();
    [lastX, lastY] = [x, y];
  };
  canvas.onmouseup = canvas.onmouseleave = () => isDrawing = false;

  // Touch support
  canvas.ontouchstart = e => {
    e.preventDefault();
    isDrawing = true;
    [lastX, lastY] = getPos(e.touches[0], canvas);
  };
  canvas.ontouchmove = e => {
    e.preventDefault();
    if (!isDrawing) return;
    const [x, y] = getPos(e.touches[0], canvas);
    signCtx.beginPath();
    signCtx.moveTo(lastX, lastY);
    signCtx.lineTo(x, y);
    signCtx.stroke();
    [lastX, lastY] = [x, y];
  };
  canvas.ontouchend = () => isDrawing = false;
}

function getPos(e, canvas) {
  const rect = canvas.getBoundingClientRect();
  const scaleX = canvas.width / rect.width;
  const scaleY = canvas.height / rect.height;
  return [
    (e.clientX - rect.left) * scaleX,
    (e.clientY - rect.top)  * scaleY,
  ];
}

function clearSignPad() {
  if (signCtx) {
    const canvas = document.getElementById('signPad');
    signCtx.clearRect(0, 0, canvas.width, canvas.height);
  }
}

function confirmSign() {
  closeSignModal();
  setTimeout(() => {
    showToast('âœ“ Documento assinado com sucesso! Certificado ICP-Brasil aplicado.');
  }, 300);
}

// Close modal on overlay click
document.getElementById('signModal').addEventListener('click', function(e) {
  if (e.target === this) closeSignModal();
});

/* ============================================================
   INIT
============================================================ */
document.addEventListener('DOMContentLoaded', () => {
  renderProcessos(PROCESSOS_DATA);
  renderCalendar();
  // Defer chart init until DOM is painted
  requestAnimationFrame(() => {
    setTimeout(initDashboardCharts, 100);
  });
});
</script>
</body>
</html>